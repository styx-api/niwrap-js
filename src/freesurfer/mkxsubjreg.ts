// This file was auto generated by Styx.
// Do not edit this file directly.

import { Runner, Execution, Metadata, InputPathType, OutputPathType, getGlobalRunner } from 'styxdefs';

const MKXSUBJREG_METADATA: Metadata = {
    id: "2a99c16d9dcf305f5f8757bb3fb394dc61f08290.boutiques",
    name: "mkxsubjreg",
    package: "freesurfer",
    container_image_tag: "freesurfer/freesurfer:7.4.1",
};


interface MkxsubjregParameters {
    "@type": "freesurfer.mkxsubjreg";
    "srcreg": InputPathType;
    "targreg": InputPathType;
    "targsubj"?: string | null | undefined;
    "xfm"?: string | null | undefined;
    "sd"?: string | null | undefined;
    "fvol"?: InputPathType | null | undefined;
    "help": boolean;
    "version": boolean;
}


/**
 * Get build cargs function by command type.
 *
 * @param t Command type
 *
 * @returns Build cargs function.
 */
function dynCargs(
    t: string,
): Function | undefined {
    const cargsFuncs = {
        "freesurfer.mkxsubjreg": mkxsubjreg_cargs,
    };
    return cargsFuncs[t];
}


/**
 * Get build outputs function by command type.
 *
 * @param t Command type
 *
 * @returns Build outputs function.
 */
function dynOutputs(
    t: string,
): Function | undefined {
    const outputsFuncs = {
    };
    return outputsFuncs[t];
}


/**
 * Output object returned when calling `mkxsubjreg(...)`.
 *
 * @interface
 */
interface MkxsubjregOutputs {
    /**
     * Output root folder. This is the root folder for all outputs.
     */
    root: OutputPathType;
}


/**
 * Build parameters.
 *
 * @param srcreg Path to the source registration file (srcreg.dat)
 * @param targreg Path to the target registration file (targreg.dat)
 * @param targsubj Target subject ID; default is talairach
 * @param xfm XFM file name relative to transforms
 * @param sd Directory containing subject data; default is env SUBJECTS_DIR
 * @param fvol Path to example functional volume
 * @param help Display help information
 * @param version Display version information
 *
 * @returns Parameter dictionary
 */
function mkxsubjreg_params(
    srcreg: InputPathType,
    targreg: InputPathType,
    targsubj: string | null = null,
    xfm: string | null = null,
    sd: string | null = null,
    fvol: InputPathType | null = null,
    help: boolean = false,
    version: boolean = false,
): MkxsubjregParameters {
    const params = {
        "@type": "freesurfer.mkxsubjreg" as const,
        "srcreg": srcreg,
        "targreg": targreg,
        "help": help,
        "version": version,
    };
    if (targsubj !== null) {
        params["targsubj"] = targsubj;
    }
    if (xfm !== null) {
        params["xfm"] = xfm;
    }
    if (sd !== null) {
        params["sd"] = sd;
    }
    if (fvol !== null) {
        params["fvol"] = fvol;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function mkxsubjreg_cargs(
    params: MkxsubjregParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push("mkxsubjreg");
    cargs.push(
        "--srcreg",
        execution.inputFile((params["srcreg"] ?? null))
    );
    cargs.push(
        "--targreg",
        execution.inputFile((params["targreg"] ?? null))
    );
    if ((params["targsubj"] ?? null) !== null) {
        cargs.push(
            "--targsubj",
            (params["targsubj"] ?? null)
        );
    }
    if ((params["xfm"] ?? null) !== null) {
        cargs.push(
            "--xfm",
            (params["xfm"] ?? null)
        );
    }
    if ((params["sd"] ?? null) !== null) {
        cargs.push(
            "--sd",
            (params["sd"] ?? null)
        );
    }
    if ((params["fvol"] ?? null) !== null) {
        cargs.push(
            "--fvol",
            execution.inputFile((params["fvol"] ?? null))
        );
    }
    if ((params["help"] ?? null)) {
        cargs.push("--help");
    }
    if ((params["version"] ?? null)) {
        cargs.push("--version");
    }
    return cargs;
}


/**
 * Build outputs object containing output file paths and possibly stdout/stderr.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Outputs object.
 */
function mkxsubjreg_outputs(
    params: MkxsubjregParameters,
    execution: Execution,
): MkxsubjregOutputs {
    const ret: MkxsubjregOutputs = {
        root: execution.outputFile("."),
    };
    return ret;
}


/**
 * Creates a new registration matrix that maps from the functional volume of the source subject to the orig of the target subject through the talairach transform.
 *
 * Author: FreeSurfer Developers
 *
 * URL: https://github.com/freesurfer/freesurfer
 *
 * @param params The parameters.
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `MkxsubjregOutputs`).
 */
function mkxsubjreg_execute(
    params: MkxsubjregParameters,
    runner: Runner | null = null,
): MkxsubjregOutputs {
    runner = runner || getGlobalRunner();
    const execution = runner.startExecution(MKXSUBJREG_METADATA);
    params = execution.params(params)
    const cargs = mkxsubjreg_cargs(params, execution)
    const ret = mkxsubjreg_outputs(params, execution)
    execution.run(cargs, undefined);
    return ret;
}


/**
 * Creates a new registration matrix that maps from the functional volume of the source subject to the orig of the target subject through the talairach transform.
 *
 * Author: FreeSurfer Developers
 *
 * URL: https://github.com/freesurfer/freesurfer
 *
 * @param srcreg Path to the source registration file (srcreg.dat)
 * @param targreg Path to the target registration file (targreg.dat)
 * @param targsubj Target subject ID; default is talairach
 * @param xfm XFM file name relative to transforms
 * @param sd Directory containing subject data; default is env SUBJECTS_DIR
 * @param fvol Path to example functional volume
 * @param help Display help information
 * @param version Display version information
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `MkxsubjregOutputs`).
 */
function mkxsubjreg(
    srcreg: InputPathType,
    targreg: InputPathType,
    targsubj: string | null = null,
    xfm: string | null = null,
    sd: string | null = null,
    fvol: InputPathType | null = null,
    help: boolean = false,
    version: boolean = false,
    runner: Runner | null = null,
): MkxsubjregOutputs {
    const params = mkxsubjreg_params(srcreg, targreg, targsubj, xfm, sd, fvol, help, version)
    return mkxsubjreg_execute(params, runner);
}


export {
      MKXSUBJREG_METADATA,
      MkxsubjregOutputs,
      MkxsubjregParameters,
      mkxsubjreg,
      mkxsubjreg_execute,
      mkxsubjreg_params,
};
