// This file was auto generated by Styx.
// Do not edit this file directly.

import { Runner, Execution, Metadata, InputPathType, OutputPathType, getGlobalRunner } from 'styxdefs';

const VOLUME_PALETTE_METADATA: Metadata = {
    id: "e4d48e09652e2a3420ac6c01dde2735f59b8d4ba.workbench",
    name: "volume-palette",
    package: "workbench",
};


interface VolumePalettePosPercentParameters {
    "@type"?: "pos-percent";
    "pos-min-%": number;
    "pos-max-%": number;
}
type VolumePalettePosPercentParametersTagged = Required<Pick<VolumePalettePosPercentParameters, '@type'>> & VolumePalettePosPercentParameters;


interface VolumePaletteNegPercentParameters {
    "@type"?: "neg-percent";
    "neg-min-%": number;
    "neg-max-%": number;
}
type VolumePaletteNegPercentParametersTagged = Required<Pick<VolumePaletteNegPercentParameters, '@type'>> & VolumePaletteNegPercentParameters;


interface VolumePalettePosUserParameters {
    "@type"?: "pos-user";
    "pos-min-user": number;
    "pos-max-user": number;
}
type VolumePalettePosUserParametersTagged = Required<Pick<VolumePalettePosUserParameters, '@type'>> & VolumePalettePosUserParameters;


interface VolumePaletteNegUserParameters {
    "@type"?: "neg-user";
    "neg-min-user": number;
    "neg-max-user": number;
}
type VolumePaletteNegUserParametersTagged = Required<Pick<VolumePaletteNegUserParameters, '@type'>> & VolumePaletteNegUserParameters;


interface VolumePaletteThresholdingParameters {
    "@type"?: "thresholding";
    "type": string;
    "test": string;
    "min": number;
    "max": number;
}
type VolumePaletteThresholdingParametersTagged = Required<Pick<VolumePaletteThresholdingParameters, '@type'>> & VolumePaletteThresholdingParameters;


interface VolumePaletteParameters {
    "@type"?: "workbench/volume-palette";
    "subvolume"?: string | null | undefined;
    "pos-percent"?: VolumePalettePosPercentParameters | null | undefined;
    "neg-percent"?: VolumePaletteNegPercentParameters | null | undefined;
    "pos-user"?: VolumePalettePosUserParameters | null | undefined;
    "neg-user"?: VolumePaletteNegUserParameters | null | undefined;
    "interpolate"?: boolean | null | undefined;
    "display"?: boolean | null | undefined;
    "display"?: boolean | null | undefined;
    "display"?: boolean | null | undefined;
    "name"?: string | null | undefined;
    "thresholding"?: VolumePaletteThresholdingParameters | null | undefined;
    "type"?: string | null | undefined;
    "type"?: string | null | undefined;
    "volume": string;
    "mode": string;
}
type VolumePaletteParametersTagged = Required<Pick<VolumePaletteParameters, '@type'>> & VolumePaletteParameters;


/**
 * Build parameters.
 *
 * @param pos_min__ the percentile for the least positive data
 * @param pos_max__ the percentile for the most positive data
 *
 * @returns Parameter dictionary
 */
function volume_palette_pos_percent_params(
    pos_min__: number,
    pos_max__: number,
): VolumePalettePosPercentParametersTagged {
    const params = {
        "@type": "pos-percent" as const,
        "pos-min-%": pos_min__,
        "pos-max-%": pos_max__,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function volume_palette_pos_percent_cargs(
    params: VolumePalettePosPercentParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-pos-percent",
        String((params["pos-min-%"] ?? null)),
        String((params["pos-max-%"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param neg_min__ the percentile for the least negative data
 * @param neg_max__ the percentile for the most negative data
 *
 * @returns Parameter dictionary
 */
function volume_palette_neg_percent_params(
    neg_min__: number,
    neg_max__: number,
): VolumePaletteNegPercentParametersTagged {
    const params = {
        "@type": "neg-percent" as const,
        "neg-min-%": neg_min__,
        "neg-max-%": neg_max__,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function volume_palette_neg_percent_cargs(
    params: VolumePaletteNegPercentParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-neg-percent",
        String((params["neg-min-%"] ?? null)),
        String((params["neg-max-%"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param pos_min_user the value for the least positive data
 * @param pos_max_user the value for the most positive data
 *
 * @returns Parameter dictionary
 */
function volume_palette_pos_user_params(
    pos_min_user: number,
    pos_max_user: number,
): VolumePalettePosUserParametersTagged {
    const params = {
        "@type": "pos-user" as const,
        "pos-min-user": pos_min_user,
        "pos-max-user": pos_max_user,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function volume_palette_pos_user_cargs(
    params: VolumePalettePosUserParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-pos-user",
        String((params["pos-min-user"] ?? null)),
        String((params["pos-max-user"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param neg_min_user the value for the least negative data
 * @param neg_max_user the value for the most negative data
 *
 * @returns Parameter dictionary
 */
function volume_palette_neg_user_params(
    neg_min_user: number,
    neg_max_user: number,
): VolumePaletteNegUserParametersTagged {
    const params = {
        "@type": "neg-user" as const,
        "neg-min-user": neg_min_user,
        "neg-max-user": neg_max_user,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function volume_palette_neg_user_cargs(
    params: VolumePaletteNegUserParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-neg-user",
        String((params["neg-min-user"] ?? null)),
        String((params["neg-max-user"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param type_ thresholding setting
 * @param test show values inside or outside thresholds
 * @param min lower threshold
 * @param max upper threshold
 *
 * @returns Parameter dictionary
 */
function volume_palette_thresholding_params(
    type_: string,
    test: string,
    min: number,
    max: number,
): VolumePaletteThresholdingParametersTagged {
    const params = {
        "@type": "thresholding" as const,
        "type": type_,
        "test": test,
        "min": min,
        "max": max,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function volume_palette_thresholding_cargs(
    params: VolumePaletteThresholdingParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-thresholding",
        (params["type"] ?? null),
        (params["test"] ?? null),
        String((params["min"] ?? null)),
        String((params["max"] ?? null))
    );
    return cargs;
}


/**
 * Output object returned when calling `VolumePaletteParameters(...)`.
 *
 * @interface
 */
interface VolumePaletteOutputs {
    /**
     * Output root folder. This is the root folder for all outputs.
     */
    root: OutputPathType;
}


/**
 * Build parameters.
 *
 * @param subvolume select a single subvolume

the subvolume number or name
 * @param interpolate interpolate colors

boolean, whether to interpolate
 * @param display display positive data

boolean, whether to display
 * @param display_ display positive data

boolean, whether to display
 * @param display_2 display data closer to zero than the min cutoff

boolean, whether to display
 * @param name set the palette used

the name of the palette
 * @param type_ specify palette inversion

the type of inversion
 * @param type_2 specify normalization mode (NOTE: this is always a file-wide setting, NOT per-map)

the normalization mode
 * @param volume the volume file to modify
 * @param mode the mapping mode
 * @param pos_percent percentage min/max for positive data coloring
 * @param neg_percent percentage min/max for negative data coloring
 * @param pos_user user min/max values for positive data coloring
 * @param neg_user user min/max values for negative data coloring
 * @param thresholding set the thresholding
 *
 * @returns Parameter dictionary
 */
function volume_palette_params(
    subvolume: string | null,
    interpolate: boolean | null,
    display: boolean | null,
    display_: boolean | null,
    display_2: boolean | null,
    name: string | null,
    type_: string | null,
    type_2: string | null,
    volume: string,
    mode: string,
    pos_percent: VolumePalettePosPercentParameters | null = null,
    neg_percent: VolumePaletteNegPercentParameters | null = null,
    pos_user: VolumePalettePosUserParameters | null = null,
    neg_user: VolumePaletteNegUserParameters | null = null,
    thresholding: VolumePaletteThresholdingParameters | null = null,
): VolumePaletteParametersTagged {
    const params = {
        "@type": "workbench/volume-palette" as const,
        "volume": volume,
        "mode": mode,
    };
    if (subvolume !== null) {
        params["subvolume"] = subvolume;
    }
    if (pos_percent !== null) {
        params["pos-percent"] = pos_percent;
    }
    if (neg_percent !== null) {
        params["neg-percent"] = neg_percent;
    }
    if (pos_user !== null) {
        params["pos-user"] = pos_user;
    }
    if (neg_user !== null) {
        params["neg-user"] = neg_user;
    }
    if (interpolate !== null) {
        params["interpolate"] = interpolate;
    }
    if (display !== null) {
        params["display"] = display;
    }
    if (display_ !== null) {
        params["display"] = display_;
    }
    if (display_2 !== null) {
        params["display"] = display_2;
    }
    if (name !== null) {
        params["name"] = name;
    }
    if (thresholding !== null) {
        params["thresholding"] = thresholding;
    }
    if (type_ !== null) {
        params["type"] = type_;
    }
    if (type_2 !== null) {
        params["type"] = type_2;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function volume_palette_cargs(
    params: VolumePaletteParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["subvolume"] ?? null) !== null || (params["pos-percent"] ?? null) !== null || (params["neg-percent"] ?? null) !== null || (params["pos-user"] ?? null) !== null || (params["neg-user"] ?? null) !== null || (params["interpolate"] ?? null) !== null || (params["display"] ?? null) !== null || (params["display"] ?? null) !== null || (params["display"] ?? null) !== null || (params["name"] ?? null) !== null || (params["thresholding"] ?? null) !== null || (params["type"] ?? null) !== null || (params["type"] ?? null) !== null) {
        cargs.push(
            "wb_command",
            "-volume-palette",
            "-subvolume",
            (((params["subvolume"] ?? null) !== null) ? (params["subvolume"] ?? null) : ""),
            ...(((params["pos-percent"] ?? null) !== null) ? volume_palette_pos_percent_cargs((params["pos-percent"] ?? null), execution) : []),
            ...(((params["neg-percent"] ?? null) !== null) ? volume_palette_neg_percent_cargs((params["neg-percent"] ?? null), execution) : []),
            ...(((params["pos-user"] ?? null) !== null) ? volume_palette_pos_user_cargs((params["pos-user"] ?? null), execution) : []),
            ...(((params["neg-user"] ?? null) !== null) ? volume_palette_neg_user_cargs((params["neg-user"] ?? null), execution) : []),
            "-interpolate",
            (((params["interpolate"] ?? null) !== null) ? ((params["interpolate"] ?? null) ? "true" : "false") : ""),
            "-disp-pos",
            (((params["display"] ?? null) !== null) ? ((params["display"] ?? null) ? "true" : "false") : ""),
            "-disp-neg",
            (((params["display"] ?? null) !== null) ? ((params["display"] ?? null) ? "true" : "false") : ""),
            "-disp-zero",
            (((params["display"] ?? null) !== null) ? ((params["display"] ?? null) ? "true" : "false") : ""),
            "-palette-name",
            (((params["name"] ?? null) !== null) ? (params["name"] ?? null) : ""),
            ...(((params["thresholding"] ?? null) !== null) ? volume_palette_thresholding_cargs((params["thresholding"] ?? null), execution) : []),
            "-inversion",
            (((params["type"] ?? null) !== null) ? (params["type"] ?? null) : ""),
            "-normalization",
            (((params["type"] ?? null) !== null) ? (params["type"] ?? null) : "")
        );
    }
    cargs.push((params["volume"] ?? null));
    cargs.push((params["mode"] ?? null));
    return cargs;
}


/**
 * Build outputs object containing output file paths and possibly stdout/stderr.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Outputs object.
 */
function volume_palette_outputs(
    params: VolumePaletteParameters,
    execution: Execution,
): VolumePaletteOutputs {
    const ret: VolumePaletteOutputs = {
        root: execution.outputFile("."),
    };
    return ret;
}


/**
 * SET THE PALETTE OF A VOLUME FILE.
 *
 * The original volume file is overwritten with the modified version.  By default, all columns of the volume file are adjusted to the new settings, use the -subvolume option to change only one subvolume.  Mapping settings not specified in options will be taken from the first subvolume.  The <mode> argument must be one of the following:
 *
 * MODE_AUTO_SCALE
 * MODE_AUTO_SCALE_ABSOLUTE_PERCENTAGE
 * MODE_AUTO_SCALE_PERCENTAGE
 * MODE_USER_SCALE
 *
 * The <name> argument to -palette-name must be one of the following:
 *
 * ROY-BIG-BL
 * videen_style
 * Gray_Interp_Positive
 * Gray_Interp
 * PSYCH-FIXED
 * RBGYR20
 * RBGYR20P
 * RYGBR4_positive
 * RGRBR_mirror90_pos
 * Orange-Yellow
 * POS_NEG_ZERO
 * red-yellow
 * blue-lightblue
 * FSL
 * power_surf
 * black-red
 * black-green
 * black-blue
 * black-red-positive
 * black-green-positive
 * black-blue-positive
 * blue-black-green
 * blue-black-red
 * red-black-green
 * fsl_red
 * fsl_green
 * fsl_blue
 * fsl_yellow
 * RedWhiteBlue
 * cool-warm
 * spectral
 * RY-BC-BL
 * magma
 * JET256
 * PSYCH
 * PSYCH-NO-NONE
 * ROY-BIG
 * clear_brain
 * fidl
 * raich4_clrmid
 * raich6_clrmid
 * HSB8_clrmid
 * POS_NEG
 * Special-RGB-Volume
 *
 * The <type> argument to -thresholding must be one of the following:
 *
 * THRESHOLD_TYPE_OFF
 * THRESHOLD_TYPE_NORMAL
 * THRESHOLD_TYPE_FILE
 *
 * The <test> argument to -thresholding must be one of the following:
 *
 * THRESHOLD_TEST_SHOW_OUTSIDE
 * THRESHOLD_TEST_SHOW_INSIDE
 *
 * The <type> argument to -inversion must be one of the following:
 *
 * OFF
 * POSITIVE_WITH_NEGATIVE
 * POSITIVE_NEGATIVE_SEPARATE
 *
 * The <type> argument to -normalization must be one of the following:
 *
 * NORMALIZATION_ALL_MAP_DATA
 * NORMALIZATION_SELECTED_MAP_DATA
 * .
 *
 * @param params The parameters.
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `VolumePaletteOutputs`).
 */
function volume_palette_execute(
    params: VolumePaletteParameters,
    runner: Runner | null = null,
): VolumePaletteOutputs {
    runner = runner || getGlobalRunner();
    const execution = runner.startExecution(VOLUME_PALETTE_METADATA);
    params = execution.params(params)
    const cargs = volume_palette_cargs(params, execution)
    const ret = volume_palette_outputs(params, execution)
    execution.run(cargs, undefined);
    return ret;
}


/**
 * SET THE PALETTE OF A VOLUME FILE.
 *
 * The original volume file is overwritten with the modified version.  By default, all columns of the volume file are adjusted to the new settings, use the -subvolume option to change only one subvolume.  Mapping settings not specified in options will be taken from the first subvolume.  The <mode> argument must be one of the following:
 *
 * MODE_AUTO_SCALE
 * MODE_AUTO_SCALE_ABSOLUTE_PERCENTAGE
 * MODE_AUTO_SCALE_PERCENTAGE
 * MODE_USER_SCALE
 *
 * The <name> argument to -palette-name must be one of the following:
 *
 * ROY-BIG-BL
 * videen_style
 * Gray_Interp_Positive
 * Gray_Interp
 * PSYCH-FIXED
 * RBGYR20
 * RBGYR20P
 * RYGBR4_positive
 * RGRBR_mirror90_pos
 * Orange-Yellow
 * POS_NEG_ZERO
 * red-yellow
 * blue-lightblue
 * FSL
 * power_surf
 * black-red
 * black-green
 * black-blue
 * black-red-positive
 * black-green-positive
 * black-blue-positive
 * blue-black-green
 * blue-black-red
 * red-black-green
 * fsl_red
 * fsl_green
 * fsl_blue
 * fsl_yellow
 * RedWhiteBlue
 * cool-warm
 * spectral
 * RY-BC-BL
 * magma
 * JET256
 * PSYCH
 * PSYCH-NO-NONE
 * ROY-BIG
 * clear_brain
 * fidl
 * raich4_clrmid
 * raich6_clrmid
 * HSB8_clrmid
 * POS_NEG
 * Special-RGB-Volume
 *
 * The <type> argument to -thresholding must be one of the following:
 *
 * THRESHOLD_TYPE_OFF
 * THRESHOLD_TYPE_NORMAL
 * THRESHOLD_TYPE_FILE
 *
 * The <test> argument to -thresholding must be one of the following:
 *
 * THRESHOLD_TEST_SHOW_OUTSIDE
 * THRESHOLD_TEST_SHOW_INSIDE
 *
 * The <type> argument to -inversion must be one of the following:
 *
 * OFF
 * POSITIVE_WITH_NEGATIVE
 * POSITIVE_NEGATIVE_SEPARATE
 *
 * The <type> argument to -normalization must be one of the following:
 *
 * NORMALIZATION_ALL_MAP_DATA
 * NORMALIZATION_SELECTED_MAP_DATA
 * .
 *
 * @param subvolume select a single subvolume

the subvolume number or name
 * @param interpolate interpolate colors

boolean, whether to interpolate
 * @param display display positive data

boolean, whether to display
 * @param display_ display positive data

boolean, whether to display
 * @param display_2 display data closer to zero than the min cutoff

boolean, whether to display
 * @param name set the palette used

the name of the palette
 * @param type_ specify palette inversion

the type of inversion
 * @param type_2 specify normalization mode (NOTE: this is always a file-wide setting, NOT per-map)

the normalization mode
 * @param volume the volume file to modify
 * @param mode the mapping mode
 * @param pos_percent percentage min/max for positive data coloring
 * @param neg_percent percentage min/max for negative data coloring
 * @param pos_user user min/max values for positive data coloring
 * @param neg_user user min/max values for negative data coloring
 * @param thresholding set the thresholding
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `VolumePaletteOutputs`).
 */
function volume_palette(
    subvolume: string | null,
    interpolate: boolean | null,
    display: boolean | null,
    display_: boolean | null,
    display_2: boolean | null,
    name: string | null,
    type_: string | null,
    type_2: string | null,
    volume: string,
    mode: string,
    pos_percent: VolumePalettePosPercentParameters | null = null,
    neg_percent: VolumePaletteNegPercentParameters | null = null,
    pos_user: VolumePalettePosUserParameters | null = null,
    neg_user: VolumePaletteNegUserParameters | null = null,
    thresholding: VolumePaletteThresholdingParameters | null = null,
    runner: Runner | null = null,
): VolumePaletteOutputs {
    const params = volume_palette_params(subvolume, interpolate, display, display_, display_2, name, type_, type_2, volume, mode, pos_percent, neg_percent, pos_user, neg_user, thresholding)
    return volume_palette_execute(params, runner);
}


export {
      VOLUME_PALETTE_METADATA,
      VolumePaletteOutputs,
      volume_palette,
      volume_palette_execute,
      volume_palette_neg_percent_params,
      volume_palette_neg_user_params,
      volume_palette_params,
      volume_palette_pos_percent_params,
      volume_palette_pos_user_params,
      volume_palette_thresholding_params,
};
