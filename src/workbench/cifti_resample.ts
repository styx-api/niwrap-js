// This file was auto generated by Styx.
// Do not edit this file directly.

import { Runner, Execution, Metadata, InputPathType, OutputPathType, getGlobalRunner } from 'styxdefs';

const CIFTI_RESAMPLE_METADATA: Metadata = {
    id: "e71a66883dbc661cfc445c13c6c8a3b6b4db7894.workbench",
    name: "cifti-resample",
    package: "workbench",
};


interface CiftiResampleWeightedParameters {
    "@type"?: "weighted";
    "exponent"?: number | null | undefined;
    "legacy-cutoff": boolean;
}
type CiftiResampleWeightedParametersTagged = Required<Pick<CiftiResampleWeightedParameters, '@type'>> & CiftiResampleWeightedParameters;


interface CiftiResampleVolumePredilateParameters {
    "@type"?: "volume-predilate";
    "dilate-mm": number;
    "nearest": boolean;
    "weighted"?: CiftiResampleWeightedParameters | null | undefined;
}
type CiftiResampleVolumePredilateParametersTagged = Required<Pick<CiftiResampleVolumePredilateParameters, '@type'>> & CiftiResampleVolumePredilateParameters;


interface CiftiResampleWeightedParameters_ {
    "@type"?: "weighted";
    "exponent"?: number | null | undefined;
    "legacy-cutoff": boolean;
}
type CiftiResampleWeightedParametersTagged_ = Required<Pick<CiftiResampleWeightedParameters_, '@type'>> & CiftiResampleWeightedParameters_;


interface CiftiResampleSurfacePostdilateParameters {
    "@type"?: "surface-postdilate";
    "dilate-mm": number;
    "nearest": boolean;
    "linear": boolean;
    "weighted"?: CiftiResampleWeightedParameters_ | null | undefined;
}
type CiftiResampleSurfacePostdilateParametersTagged = Required<Pick<CiftiResampleSurfacePostdilateParameters, '@type'>> & CiftiResampleSurfacePostdilateParameters;


interface CiftiResampleFlirtParameters {
    "@type"?: "flirt";
    "source-volume": string;
    "target-volume": string;
}
type CiftiResampleFlirtParametersTagged = Required<Pick<CiftiResampleFlirtParameters, '@type'>> & CiftiResampleFlirtParameters;


interface CiftiResampleAffineParameters {
    "@type"?: "affine";
    "affine-file": string;
    "flirt"?: CiftiResampleFlirtParameters | null | undefined;
}
type CiftiResampleAffineParametersTagged = Required<Pick<CiftiResampleAffineParameters, '@type'>> & CiftiResampleAffineParameters;


interface CiftiResampleWarpfieldParameters {
    "@type"?: "warpfield";
    "warpfield": string;
    "source-volume"?: string | null | undefined;
}
type CiftiResampleWarpfieldParametersTagged = Required<Pick<CiftiResampleWarpfieldParameters, '@type'>> & CiftiResampleWarpfieldParameters;


interface CiftiResampleLeftAreaSurfsParameters {
    "@type"?: "left-area-surfs";
    "current-area": InputPathType;
    "new-area": InputPathType;
}
type CiftiResampleLeftAreaSurfsParametersTagged = Required<Pick<CiftiResampleLeftAreaSurfsParameters, '@type'>> & CiftiResampleLeftAreaSurfsParameters;


interface CiftiResampleLeftAreaMetricsParameters {
    "@type"?: "left-area-metrics";
    "current-area": InputPathType;
    "new-area": InputPathType;
}
type CiftiResampleLeftAreaMetricsParametersTagged = Required<Pick<CiftiResampleLeftAreaMetricsParameters, '@type'>> & CiftiResampleLeftAreaMetricsParameters;


interface CiftiResampleLeftSpheresParameters {
    "@type"?: "left-spheres";
    "current-sphere": InputPathType;
    "new-sphere": InputPathType;
    "left-area-surfs"?: CiftiResampleLeftAreaSurfsParameters | null | undefined;
    "left-area-metrics"?: CiftiResampleLeftAreaMetricsParameters | null | undefined;
}
type CiftiResampleLeftSpheresParametersTagged = Required<Pick<CiftiResampleLeftSpheresParameters, '@type'>> & CiftiResampleLeftSpheresParameters;


interface CiftiResampleRightAreaSurfsParameters {
    "@type"?: "right-area-surfs";
    "current-area": InputPathType;
    "new-area": InputPathType;
}
type CiftiResampleRightAreaSurfsParametersTagged = Required<Pick<CiftiResampleRightAreaSurfsParameters, '@type'>> & CiftiResampleRightAreaSurfsParameters;


interface CiftiResampleRightAreaMetricsParameters {
    "@type"?: "right-area-metrics";
    "current-area": InputPathType;
    "new-area": InputPathType;
}
type CiftiResampleRightAreaMetricsParametersTagged = Required<Pick<CiftiResampleRightAreaMetricsParameters, '@type'>> & CiftiResampleRightAreaMetricsParameters;


interface CiftiResampleRightSpheresParameters {
    "@type"?: "right-spheres";
    "current-sphere": InputPathType;
    "new-sphere": InputPathType;
    "right-area-surfs"?: CiftiResampleRightAreaSurfsParameters | null | undefined;
    "right-area-metrics"?: CiftiResampleRightAreaMetricsParameters | null | undefined;
}
type CiftiResampleRightSpheresParametersTagged = Required<Pick<CiftiResampleRightSpheresParameters, '@type'>> & CiftiResampleRightSpheresParameters;


interface CiftiResampleCerebellumAreaSurfsParameters {
    "@type"?: "cerebellum-area-surfs";
    "current-area": InputPathType;
    "new-area": InputPathType;
}
type CiftiResampleCerebellumAreaSurfsParametersTagged = Required<Pick<CiftiResampleCerebellumAreaSurfsParameters, '@type'>> & CiftiResampleCerebellumAreaSurfsParameters;


interface CiftiResampleCerebellumAreaMetricsParameters {
    "@type"?: "cerebellum-area-metrics";
    "current-area": InputPathType;
    "new-area": InputPathType;
}
type CiftiResampleCerebellumAreaMetricsParametersTagged = Required<Pick<CiftiResampleCerebellumAreaMetricsParameters, '@type'>> & CiftiResampleCerebellumAreaMetricsParameters;


interface CiftiResampleCerebellumSpheresParameters {
    "@type"?: "cerebellum-spheres";
    "current-sphere": InputPathType;
    "new-sphere": InputPathType;
    "cerebellum-area-surfs"?: CiftiResampleCerebellumAreaSurfsParameters | null | undefined;
    "cerebellum-area-metrics"?: CiftiResampleCerebellumAreaMetricsParameters | null | undefined;
}
type CiftiResampleCerebellumSpheresParametersTagged = Required<Pick<CiftiResampleCerebellumSpheresParameters, '@type'>> & CiftiResampleCerebellumSpheresParameters;


interface CiftiResampleParameters {
    "@type"?: "workbench/cifti-resample";
    "cifti-out": string;
    "surface-largest": boolean;
    "volume-predilate"?: CiftiResampleVolumePredilateParameters | null | undefined;
    "surface-postdilate"?: CiftiResampleSurfacePostdilateParameters | null | undefined;
    "affine"?: CiftiResampleAffineParameters | null | undefined;
    "warpfield"?: CiftiResampleWarpfieldParameters | null | undefined;
    "left-spheres"?: CiftiResampleLeftSpheresParameters | null | undefined;
    "right-spheres"?: CiftiResampleRightSpheresParameters | null | undefined;
    "cerebellum-spheres"?: CiftiResampleCerebellumSpheresParameters | null | undefined;
    "cifti-in": InputPathType;
    "direction": string;
    "cifti-template": InputPathType;
    "template-direction": string;
    "surface-method": string;
    "volume-method": string;
}
type CiftiResampleParametersTagged = Required<Pick<CiftiResampleParameters, '@type'>> & CiftiResampleParameters;


/**
 * Build parameters.
 *
 * @param exponent specify exponent in weighting function

exponent 'n' to use in (1 / (distance ^ n)) as the weighting function (default 7)
 * @param legacy_cutoff use v1.3.2 logic for the kernel cutoff
 *
 * @returns Parameter dictionary
 */
function cifti_resample_weighted_params(
    exponent: number | null,
    legacy_cutoff: boolean = false,
): CiftiResampleWeightedParametersTagged {
    const params = {
        "@type": "weighted" as const,
        "legacy-cutoff": legacy_cutoff,
    };
    if (exponent !== null) {
        params["exponent"] = exponent;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_weighted_cargs(
    params: CiftiResampleWeightedParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["exponent"] ?? null) !== null || (params["legacy-cutoff"] ?? false)) {
        cargs.push(
            "-weighted",
            "-exponent",
            (((params["exponent"] ?? null) !== null) ? String((params["exponent"] ?? null)) : ""),
            (((params["legacy-cutoff"] ?? false)) ? "-legacy-cutoff" : "")
        );
    }
    return cargs;
}


/**
 * Build parameters.
 *
 * @param dilate_mm distance, in mm, to dilate
 * @param nearest use nearest value dilation
 * @param weighted use weighted dilation (default)
 *
 * @returns Parameter dictionary
 */
function cifti_resample_volume_predilate_params(
    dilate_mm: number,
    nearest: boolean = false,
    weighted: CiftiResampleWeightedParameters | null = null,
): CiftiResampleVolumePredilateParametersTagged {
    const params = {
        "@type": "volume-predilate" as const,
        "dilate-mm": dilate_mm,
        "nearest": nearest,
    };
    if (weighted !== null) {
        params["weighted"] = weighted;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_volume_predilate_cargs(
    params: CiftiResampleVolumePredilateParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["nearest"] ?? false) || (params["weighted"] ?? null) !== null) {
        cargs.push(
            "-volume-predilate",
            String((params["dilate-mm"] ?? null)),
            (((params["nearest"] ?? false)) ? "-nearest" : ""),
            ...(((params["weighted"] ?? null) !== null) ? cifti_resample_weighted_cargs((params["weighted"] ?? null), execution) : [])
        );
    }
    return cargs;
}


/**
 * Build parameters.
 *
 * @param exponent specify exponent in weighting function

exponent 'n' to use in (area / (distance ^ n)) as the weighting function (default 6)
 * @param legacy_cutoff use v1.3.2 logic for the kernel cutoff
 *
 * @returns Parameter dictionary
 */
function cifti_resample_weighted_params_(
    exponent: number | null,
    legacy_cutoff: boolean = false,
): CiftiResampleWeightedParametersTagged_ {
    const params = {
        "@type": "weighted" as const,
        "legacy-cutoff": legacy_cutoff,
    };
    if (exponent !== null) {
        params["exponent"] = exponent;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_weighted_cargs_(
    params: CiftiResampleWeightedParameters_,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["exponent"] ?? null) !== null || (params["legacy-cutoff"] ?? false)) {
        cargs.push(
            "-weighted",
            "-exponent",
            (((params["exponent"] ?? null) !== null) ? String((params["exponent"] ?? null)) : ""),
            (((params["legacy-cutoff"] ?? false)) ? "-legacy-cutoff" : "")
        );
    }
    return cargs;
}


/**
 * Build parameters.
 *
 * @param dilate_mm distance, in mm, to dilate
 * @param nearest use nearest value dilation
 * @param linear use linear dilation
 * @param weighted use weighted dilation (default for non-label data)
 *
 * @returns Parameter dictionary
 */
function cifti_resample_surface_postdilate_params(
    dilate_mm: number,
    nearest: boolean = false,
    linear: boolean = false,
    weighted: CiftiResampleWeightedParameters_ | null = null,
): CiftiResampleSurfacePostdilateParametersTagged {
    const params = {
        "@type": "surface-postdilate" as const,
        "dilate-mm": dilate_mm,
        "nearest": nearest,
        "linear": linear,
    };
    if (weighted !== null) {
        params["weighted"] = weighted;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_surface_postdilate_cargs(
    params: CiftiResampleSurfacePostdilateParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["nearest"] ?? false) || (params["linear"] ?? false) || (params["weighted"] ?? null) !== null) {
        cargs.push(
            "-surface-postdilate",
            String((params["dilate-mm"] ?? null)),
            (((params["nearest"] ?? false)) ? "-nearest" : ""),
            (((params["linear"] ?? false)) ? "-linear" : ""),
            ...(((params["weighted"] ?? null) !== null) ? cifti_resample_weighted_cargs_((params["weighted"] ?? null), execution) : [])
        );
    }
    return cargs;
}


/**
 * Build parameters.
 *
 * @param source_volume the source volume used when generating the affine
 * @param target_volume the target volume used when generating the affine
 *
 * @returns Parameter dictionary
 */
function cifti_resample_flirt_params(
    source_volume: string,
    target_volume: string,
): CiftiResampleFlirtParametersTagged {
    const params = {
        "@type": "flirt" as const,
        "source-volume": source_volume,
        "target-volume": target_volume,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_flirt_cargs(
    params: CiftiResampleFlirtParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-flirt",
        (params["source-volume"] ?? null),
        (params["target-volume"] ?? null)
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param affine_file the affine file to use
 * @param flirt MUST be used if affine is a flirt affine
 *
 * @returns Parameter dictionary
 */
function cifti_resample_affine_params(
    affine_file: string,
    flirt: CiftiResampleFlirtParameters | null = null,
): CiftiResampleAffineParametersTagged {
    const params = {
        "@type": "affine" as const,
        "affine-file": affine_file,
    };
    if (flirt !== null) {
        params["flirt"] = flirt;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_affine_cargs(
    params: CiftiResampleAffineParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["flirt"] ?? null) !== null) {
        cargs.push(
            "-affine",
            (params["affine-file"] ?? null),
            ...cifti_resample_flirt_cargs((params["flirt"] ?? null), execution)
        );
    }
    return cargs;
}


/**
 * Build parameters.
 *
 * @param warpfield the warpfield to use
 * @param source_volume MUST be used if using a fnirt warpfield

the source volume used when generating the warpfield
 *
 * @returns Parameter dictionary
 */
function cifti_resample_warpfield_params(
    warpfield: string,
    source_volume: string | null,
): CiftiResampleWarpfieldParametersTagged {
    const params = {
        "@type": "warpfield" as const,
        "warpfield": warpfield,
    };
    if (source_volume !== null) {
        params["source-volume"] = source_volume;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_warpfield_cargs(
    params: CiftiResampleWarpfieldParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["source-volume"] ?? null) !== null) {
        cargs.push(
            "-warpfield",
            (params["warpfield"] ?? null),
            "-fnirt",
            (params["source-volume"] ?? null)
        );
    }
    return cargs;
}


/**
 * Build parameters.
 *
 * @param current_area a relevant left anatomical surface with current mesh
 * @param new_area a relevant left anatomical surface with new mesh
 *
 * @returns Parameter dictionary
 */
function cifti_resample_left_area_surfs_params(
    current_area: InputPathType,
    new_area: InputPathType,
): CiftiResampleLeftAreaSurfsParametersTagged {
    const params = {
        "@type": "left-area-surfs" as const,
        "current-area": current_area,
        "new-area": new_area,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_left_area_surfs_cargs(
    params: CiftiResampleLeftAreaSurfsParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-left-area-surfs",
        execution.inputFile((params["current-area"] ?? null)),
        execution.inputFile((params["new-area"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param current_area a metric file with vertex areas for the current mesh
 * @param new_area a metric file with vertex areas for the new mesh
 *
 * @returns Parameter dictionary
 */
function cifti_resample_left_area_metrics_params(
    current_area: InputPathType,
    new_area: InputPathType,
): CiftiResampleLeftAreaMetricsParametersTagged {
    const params = {
        "@type": "left-area-metrics" as const,
        "current-area": current_area,
        "new-area": new_area,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_left_area_metrics_cargs(
    params: CiftiResampleLeftAreaMetricsParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-left-area-metrics",
        execution.inputFile((params["current-area"] ?? null)),
        execution.inputFile((params["new-area"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param current_sphere a sphere with the same mesh as the current left surface
 * @param new_sphere a sphere with the new left mesh that is in register with the current sphere
 * @param left_area_surfs specify left surfaces to do vertex area correction based on
 * @param left_area_metrics specify left vertex area metrics to do area correction based on
 *
 * @returns Parameter dictionary
 */
function cifti_resample_left_spheres_params(
    current_sphere: InputPathType,
    new_sphere: InputPathType,
    left_area_surfs: CiftiResampleLeftAreaSurfsParameters | null = null,
    left_area_metrics: CiftiResampleLeftAreaMetricsParameters | null = null,
): CiftiResampleLeftSpheresParametersTagged {
    const params = {
        "@type": "left-spheres" as const,
        "current-sphere": current_sphere,
        "new-sphere": new_sphere,
    };
    if (left_area_surfs !== null) {
        params["left-area-surfs"] = left_area_surfs;
    }
    if (left_area_metrics !== null) {
        params["left-area-metrics"] = left_area_metrics;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_left_spheres_cargs(
    params: CiftiResampleLeftSpheresParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["left-area-surfs"] ?? null) !== null || (params["left-area-metrics"] ?? null) !== null) {
        cargs.push(
            "-left-spheres",
            execution.inputFile((params["current-sphere"] ?? null)),
            execution.inputFile((params["new-sphere"] ?? null)),
            ...(((params["left-area-surfs"] ?? null) !== null) ? cifti_resample_left_area_surfs_cargs((params["left-area-surfs"] ?? null), execution) : []),
            ...(((params["left-area-metrics"] ?? null) !== null) ? cifti_resample_left_area_metrics_cargs((params["left-area-metrics"] ?? null), execution) : [])
        );
    }
    return cargs;
}


/**
 * Build parameters.
 *
 * @param current_area a relevant right anatomical surface with current mesh
 * @param new_area a relevant right anatomical surface with new mesh
 *
 * @returns Parameter dictionary
 */
function cifti_resample_right_area_surfs_params(
    current_area: InputPathType,
    new_area: InputPathType,
): CiftiResampleRightAreaSurfsParametersTagged {
    const params = {
        "@type": "right-area-surfs" as const,
        "current-area": current_area,
        "new-area": new_area,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_right_area_surfs_cargs(
    params: CiftiResampleRightAreaSurfsParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-right-area-surfs",
        execution.inputFile((params["current-area"] ?? null)),
        execution.inputFile((params["new-area"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param current_area a metric file with vertex areas for the current mesh
 * @param new_area a metric file with vertex areas for the new mesh
 *
 * @returns Parameter dictionary
 */
function cifti_resample_right_area_metrics_params(
    current_area: InputPathType,
    new_area: InputPathType,
): CiftiResampleRightAreaMetricsParametersTagged {
    const params = {
        "@type": "right-area-metrics" as const,
        "current-area": current_area,
        "new-area": new_area,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_right_area_metrics_cargs(
    params: CiftiResampleRightAreaMetricsParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-right-area-metrics",
        execution.inputFile((params["current-area"] ?? null)),
        execution.inputFile((params["new-area"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param current_sphere a sphere with the same mesh as the current right surface
 * @param new_sphere a sphere with the new right mesh that is in register with the current sphere
 * @param right_area_surfs specify right surfaces to do vertex area correction based on
 * @param right_area_metrics specify right vertex area metrics to do area correction based on
 *
 * @returns Parameter dictionary
 */
function cifti_resample_right_spheres_params(
    current_sphere: InputPathType,
    new_sphere: InputPathType,
    right_area_surfs: CiftiResampleRightAreaSurfsParameters | null = null,
    right_area_metrics: CiftiResampleRightAreaMetricsParameters | null = null,
): CiftiResampleRightSpheresParametersTagged {
    const params = {
        "@type": "right-spheres" as const,
        "current-sphere": current_sphere,
        "new-sphere": new_sphere,
    };
    if (right_area_surfs !== null) {
        params["right-area-surfs"] = right_area_surfs;
    }
    if (right_area_metrics !== null) {
        params["right-area-metrics"] = right_area_metrics;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_right_spheres_cargs(
    params: CiftiResampleRightSpheresParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["right-area-surfs"] ?? null) !== null || (params["right-area-metrics"] ?? null) !== null) {
        cargs.push(
            "-right-spheres",
            execution.inputFile((params["current-sphere"] ?? null)),
            execution.inputFile((params["new-sphere"] ?? null)),
            ...(((params["right-area-surfs"] ?? null) !== null) ? cifti_resample_right_area_surfs_cargs((params["right-area-surfs"] ?? null), execution) : []),
            ...(((params["right-area-metrics"] ?? null) !== null) ? cifti_resample_right_area_metrics_cargs((params["right-area-metrics"] ?? null), execution) : [])
        );
    }
    return cargs;
}


/**
 * Build parameters.
 *
 * @param current_area a relevant cerebellum anatomical surface with current mesh
 * @param new_area a relevant cerebellum anatomical surface with new mesh
 *
 * @returns Parameter dictionary
 */
function cifti_resample_cerebellum_area_surfs_params(
    current_area: InputPathType,
    new_area: InputPathType,
): CiftiResampleCerebellumAreaSurfsParametersTagged {
    const params = {
        "@type": "cerebellum-area-surfs" as const,
        "current-area": current_area,
        "new-area": new_area,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_cerebellum_area_surfs_cargs(
    params: CiftiResampleCerebellumAreaSurfsParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-cerebellum-area-surfs",
        execution.inputFile((params["current-area"] ?? null)),
        execution.inputFile((params["new-area"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param current_area a metric file with vertex areas for the current mesh
 * @param new_area a metric file with vertex areas for the new mesh
 *
 * @returns Parameter dictionary
 */
function cifti_resample_cerebellum_area_metrics_params(
    current_area: InputPathType,
    new_area: InputPathType,
): CiftiResampleCerebellumAreaMetricsParametersTagged {
    const params = {
        "@type": "cerebellum-area-metrics" as const,
        "current-area": current_area,
        "new-area": new_area,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_cerebellum_area_metrics_cargs(
    params: CiftiResampleCerebellumAreaMetricsParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-cerebellum-area-metrics",
        execution.inputFile((params["current-area"] ?? null)),
        execution.inputFile((params["new-area"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param current_sphere a sphere with the same mesh as the current cerebellum surface
 * @param new_sphere a sphere with the new cerebellum mesh that is in register with the current sphere
 * @param cerebellum_area_surfs specify cerebellum surfaces to do vertex area correction based on
 * @param cerebellum_area_metrics specify cerebellum vertex area metrics to do area correction based on
 *
 * @returns Parameter dictionary
 */
function cifti_resample_cerebellum_spheres_params(
    current_sphere: InputPathType,
    new_sphere: InputPathType,
    cerebellum_area_surfs: CiftiResampleCerebellumAreaSurfsParameters | null = null,
    cerebellum_area_metrics: CiftiResampleCerebellumAreaMetricsParameters | null = null,
): CiftiResampleCerebellumSpheresParametersTagged {
    const params = {
        "@type": "cerebellum-spheres" as const,
        "current-sphere": current_sphere,
        "new-sphere": new_sphere,
    };
    if (cerebellum_area_surfs !== null) {
        params["cerebellum-area-surfs"] = cerebellum_area_surfs;
    }
    if (cerebellum_area_metrics !== null) {
        params["cerebellum-area-metrics"] = cerebellum_area_metrics;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_cerebellum_spheres_cargs(
    params: CiftiResampleCerebellumSpheresParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["cerebellum-area-surfs"] ?? null) !== null || (params["cerebellum-area-metrics"] ?? null) !== null) {
        cargs.push(
            "-cerebellum-spheres",
            execution.inputFile((params["current-sphere"] ?? null)),
            execution.inputFile((params["new-sphere"] ?? null)),
            ...(((params["cerebellum-area-surfs"] ?? null) !== null) ? cifti_resample_cerebellum_area_surfs_cargs((params["cerebellum-area-surfs"] ?? null), execution) : []),
            ...(((params["cerebellum-area-metrics"] ?? null) !== null) ? cifti_resample_cerebellum_area_metrics_cargs((params["cerebellum-area-metrics"] ?? null), execution) : [])
        );
    }
    return cargs;
}


/**
 * Output object returned when calling `CiftiResampleParameters(...)`.
 *
 * @interface
 */
interface CiftiResampleOutputs {
    /**
     * Output root folder. This is the root folder for all outputs.
     */
    root: OutputPathType;
    /**
     * the output cifti file
     */
    cifti_out: OutputPathType;
}


/**
 * Build parameters.
 *
 * @param cifti_out the output cifti file
 * @param cifti_in the cifti file to resample
 * @param direction the direction of the input that should be resampled, ROW or COLUMN
 * @param cifti_template a cifti file containing the cifti space to resample to
 * @param template_direction the direction of the template to use as the resampling space, ROW or COLUMN
 * @param surface_method specify a surface resampling method
 * @param volume_method specify a volume interpolation method
 * @param surface_largest use largest weight instead of weighted average or popularity when doing surface resampling
 * @param volume_predilate dilate the volume components before resampling
 * @param surface_postdilate dilate the surface components after resampling
 * @param affine use an affine transformation on the volume components
 * @param warpfield use a warpfield on the volume components
 * @param left_spheres specify spheres for left surface resampling
 * @param right_spheres specify spheres for right surface resampling
 * @param cerebellum_spheres specify spheres for cerebellum surface resampling
 *
 * @returns Parameter dictionary
 */
function cifti_resample_params(
    cifti_out: string,
    cifti_in: InputPathType,
    direction: string,
    cifti_template: InputPathType,
    template_direction: string,
    surface_method: string,
    volume_method: string,
    surface_largest: boolean = false,
    volume_predilate: CiftiResampleVolumePredilateParameters | null = null,
    surface_postdilate: CiftiResampleSurfacePostdilateParameters | null = null,
    affine: CiftiResampleAffineParameters | null = null,
    warpfield: CiftiResampleWarpfieldParameters | null = null,
    left_spheres: CiftiResampleLeftSpheresParameters | null = null,
    right_spheres: CiftiResampleRightSpheresParameters | null = null,
    cerebellum_spheres: CiftiResampleCerebellumSpheresParameters | null = null,
): CiftiResampleParametersTagged {
    const params = {
        "@type": "workbench/cifti-resample" as const,
        "cifti-out": cifti_out,
        "surface-largest": surface_largest,
        "cifti-in": cifti_in,
        "direction": direction,
        "cifti-template": cifti_template,
        "template-direction": template_direction,
        "surface-method": surface_method,
        "volume-method": volume_method,
    };
    if (volume_predilate !== null) {
        params["volume-predilate"] = volume_predilate;
    }
    if (surface_postdilate !== null) {
        params["surface-postdilate"] = surface_postdilate;
    }
    if (affine !== null) {
        params["affine"] = affine;
    }
    if (warpfield !== null) {
        params["warpfield"] = warpfield;
    }
    if (left_spheres !== null) {
        params["left-spheres"] = left_spheres;
    }
    if (right_spheres !== null) {
        params["right-spheres"] = right_spheres;
    }
    if (cerebellum_spheres !== null) {
        params["cerebellum-spheres"] = cerebellum_spheres;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_resample_cargs(
    params: CiftiResampleParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["surface-largest"] ?? false) || (params["volume-predilate"] ?? null) !== null || (params["surface-postdilate"] ?? null) !== null || (params["affine"] ?? null) !== null || (params["warpfield"] ?? null) !== null || (params["left-spheres"] ?? null) !== null || (params["right-spheres"] ?? null) !== null || (params["cerebellum-spheres"] ?? null) !== null) {
        cargs.push(
            "wb_command",
            "-cifti-resample",
            (params["cifti-out"] ?? null),
            (((params["surface-largest"] ?? false)) ? "-surface-largest" : ""),
            ...(((params["volume-predilate"] ?? null) !== null) ? cifti_resample_volume_predilate_cargs((params["volume-predilate"] ?? null), execution) : []),
            ...(((params["surface-postdilate"] ?? null) !== null) ? cifti_resample_surface_postdilate_cargs((params["surface-postdilate"] ?? null), execution) : []),
            ...(((params["affine"] ?? null) !== null) ? cifti_resample_affine_cargs((params["affine"] ?? null), execution) : []),
            ...(((params["warpfield"] ?? null) !== null) ? cifti_resample_warpfield_cargs((params["warpfield"] ?? null), execution) : []),
            ...(((params["left-spheres"] ?? null) !== null) ? cifti_resample_left_spheres_cargs((params["left-spheres"] ?? null), execution) : []),
            ...(((params["right-spheres"] ?? null) !== null) ? cifti_resample_right_spheres_cargs((params["right-spheres"] ?? null), execution) : []),
            ...(((params["cerebellum-spheres"] ?? null) !== null) ? cifti_resample_cerebellum_spheres_cargs((params["cerebellum-spheres"] ?? null), execution) : [])
        );
    }
    cargs.push(execution.inputFile((params["cifti-in"] ?? null)));
    cargs.push((params["direction"] ?? null));
    cargs.push(execution.inputFile((params["cifti-template"] ?? null)));
    cargs.push((params["template-direction"] ?? null));
    cargs.push((params["surface-method"] ?? null));
    cargs.push((params["volume-method"] ?? null));
    return cargs;
}


/**
 * Build outputs object containing output file paths and possibly stdout/stderr.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Outputs object.
 */
function cifti_resample_outputs(
    params: CiftiResampleParameters,
    execution: Execution,
): CiftiResampleOutputs {
    const ret: CiftiResampleOutputs = {
        root: execution.outputFile("."),
        cifti_out: execution.outputFile([(params["cifti-out"] ?? null)].join('')),
    };
    return ret;
}


/**
 * RESAMPLE A CIFTI FILE TO A NEW CIFTI SPACE.
 *
 * Resample cifti data to a different brainordinate space.  Use COLUMN for the direction to resample dscalar, dlabel, or dtseries.  Resampling both dimensions of a dconn requires running this command twice, once with COLUMN and once with ROW.  If you are resampling a dconn and your machine has a large amount of memory, you might consider using -cifti-resample-dconn-memory to avoid writing and rereading an intermediate file.  The <template-direction> argument should usually be COLUMN, as dtseries, dscalar, and dlabel all have brainordinates on that direction.  If spheres are not specified for a surface structure which exists in the cifti files, its data is copied without resampling or dilation.  Dilation is done with the 'nearest' method, and is done on <new-sphere> for surface data.  Volume components are padded before dilation so that dilation doesn't run into the edge of the component bounding box.  If neither -affine nor -warpfield are specified, the identity transform is assumed for the volume data.
 *
 * The recommended resampling methods are ADAP_BARY_AREA and CUBIC (cubic spline), except for label data which should use ADAP_BARY_AREA and ENCLOSING_VOXEL.  Using ADAP_BARY_AREA requires specifying an area option to each used -*-spheres option.
 *
 * The <volume-method> argument must be one of the following:
 *
 * CUBIC
 * ENCLOSING_VOXEL
 * TRILINEAR
 *
 * The <surface-method> argument must be one of the following:
 *
 * ADAP_BARY_AREA
 * BARYCENTRIC
 * .
 *
 * @param params The parameters.
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `CiftiResampleOutputs`).
 */
function cifti_resample_execute(
    params: CiftiResampleParameters,
    runner: Runner | null = null,
): CiftiResampleOutputs {
    runner = runner || getGlobalRunner();
    const execution = runner.startExecution(CIFTI_RESAMPLE_METADATA);
    params = execution.params(params)
    const cargs = cifti_resample_cargs(params, execution)
    const ret = cifti_resample_outputs(params, execution)
    execution.run(cargs, undefined);
    return ret;
}


/**
 * RESAMPLE A CIFTI FILE TO A NEW CIFTI SPACE.
 *
 * Resample cifti data to a different brainordinate space.  Use COLUMN for the direction to resample dscalar, dlabel, or dtseries.  Resampling both dimensions of a dconn requires running this command twice, once with COLUMN and once with ROW.  If you are resampling a dconn and your machine has a large amount of memory, you might consider using -cifti-resample-dconn-memory to avoid writing and rereading an intermediate file.  The <template-direction> argument should usually be COLUMN, as dtseries, dscalar, and dlabel all have brainordinates on that direction.  If spheres are not specified for a surface structure which exists in the cifti files, its data is copied without resampling or dilation.  Dilation is done with the 'nearest' method, and is done on <new-sphere> for surface data.  Volume components are padded before dilation so that dilation doesn't run into the edge of the component bounding box.  If neither -affine nor -warpfield are specified, the identity transform is assumed for the volume data.
 *
 * The recommended resampling methods are ADAP_BARY_AREA and CUBIC (cubic spline), except for label data which should use ADAP_BARY_AREA and ENCLOSING_VOXEL.  Using ADAP_BARY_AREA requires specifying an area option to each used -*-spheres option.
 *
 * The <volume-method> argument must be one of the following:
 *
 * CUBIC
 * ENCLOSING_VOXEL
 * TRILINEAR
 *
 * The <surface-method> argument must be one of the following:
 *
 * ADAP_BARY_AREA
 * BARYCENTRIC
 * .
 *
 * @param cifti_out the output cifti file
 * @param cifti_in the cifti file to resample
 * @param direction the direction of the input that should be resampled, ROW or COLUMN
 * @param cifti_template a cifti file containing the cifti space to resample to
 * @param template_direction the direction of the template to use as the resampling space, ROW or COLUMN
 * @param surface_method specify a surface resampling method
 * @param volume_method specify a volume interpolation method
 * @param surface_largest use largest weight instead of weighted average or popularity when doing surface resampling
 * @param volume_predilate dilate the volume components before resampling
 * @param surface_postdilate dilate the surface components after resampling
 * @param affine use an affine transformation on the volume components
 * @param warpfield use a warpfield on the volume components
 * @param left_spheres specify spheres for left surface resampling
 * @param right_spheres specify spheres for right surface resampling
 * @param cerebellum_spheres specify spheres for cerebellum surface resampling
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `CiftiResampleOutputs`).
 */
function cifti_resample(
    cifti_out: string,
    cifti_in: InputPathType,
    direction: string,
    cifti_template: InputPathType,
    template_direction: string,
    surface_method: string,
    volume_method: string,
    surface_largest: boolean = false,
    volume_predilate: CiftiResampleVolumePredilateParameters | null = null,
    surface_postdilate: CiftiResampleSurfacePostdilateParameters | null = null,
    affine: CiftiResampleAffineParameters | null = null,
    warpfield: CiftiResampleWarpfieldParameters | null = null,
    left_spheres: CiftiResampleLeftSpheresParameters | null = null,
    right_spheres: CiftiResampleRightSpheresParameters | null = null,
    cerebellum_spheres: CiftiResampleCerebellumSpheresParameters | null = null,
    runner: Runner | null = null,
): CiftiResampleOutputs {
    const params = cifti_resample_params(cifti_out, cifti_in, direction, cifti_template, template_direction, surface_method, volume_method, surface_largest, volume_predilate, surface_postdilate, affine, warpfield, left_spheres, right_spheres, cerebellum_spheres)
    return cifti_resample_execute(params, runner);
}


export {
      CIFTI_RESAMPLE_METADATA,
      CiftiResampleOutputs,
      cifti_resample,
      cifti_resample_affine_params,
      cifti_resample_cerebellum_area_metrics_params,
      cifti_resample_cerebellum_area_surfs_params,
      cifti_resample_cerebellum_spheres_params,
      cifti_resample_execute,
      cifti_resample_flirt_params,
      cifti_resample_left_area_metrics_params,
      cifti_resample_left_area_surfs_params,
      cifti_resample_left_spheres_params,
      cifti_resample_params,
      cifti_resample_right_area_metrics_params,
      cifti_resample_right_area_surfs_params,
      cifti_resample_right_spheres_params,
      cifti_resample_surface_postdilate_params,
      cifti_resample_volume_predilate_params,
      cifti_resample_warpfield_params,
      cifti_resample_weighted_params,
      cifti_resample_weighted_params_,
};
