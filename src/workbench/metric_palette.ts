// This file was auto generated by Styx.
// Do not edit this file directly.

import { Runner, Execution, Metadata, InputPathType, OutputPathType, getGlobalRunner } from 'styxdefs';

const METRIC_PALETTE_METADATA: Metadata = {
    id: "8d6cbb35e7b410dce378acf392873934c73456df.workbench",
    name: "metric-palette",
    package: "workbench",
};


interface MetricPalettePosPercentParamsDict {
    "@type"?: "pos-percent";
    "pos-min-%": number;
    "pos-max-%": number;
}
type MetricPalettePosPercentParamsDictTagged = Required<Pick<MetricPalettePosPercentParamsDict, '@type'>> & MetricPalettePosPercentParamsDict;


interface MetricPaletteNegPercentParamsDict {
    "@type"?: "neg-percent";
    "neg-min-%": number;
    "neg-max-%": number;
}
type MetricPaletteNegPercentParamsDictTagged = Required<Pick<MetricPaletteNegPercentParamsDict, '@type'>> & MetricPaletteNegPercentParamsDict;


interface MetricPalettePosUserParamsDict {
    "@type"?: "pos-user";
    "pos-min-user": number;
    "pos-max-user": number;
}
type MetricPalettePosUserParamsDictTagged = Required<Pick<MetricPalettePosUserParamsDict, '@type'>> & MetricPalettePosUserParamsDict;


interface MetricPaletteNegUserParamsDict {
    "@type"?: "neg-user";
    "neg-min-user": number;
    "neg-max-user": number;
}
type MetricPaletteNegUserParamsDictTagged = Required<Pick<MetricPaletteNegUserParamsDict, '@type'>> & MetricPaletteNegUserParamsDict;


interface MetricPaletteThresholdingParamsDict {
    "@type"?: "thresholding";
    "type": string;
    "test": string;
    "min": number;
    "max": number;
}
type MetricPaletteThresholdingParamsDictTagged = Required<Pick<MetricPaletteThresholdingParamsDict, '@type'>> & MetricPaletteThresholdingParamsDict;


interface MetricPaletteParamsDict {
    "@type"?: "workbench/metric-palette";
    "column"?: string | null | undefined;
    "pos-percent"?: MetricPalettePosPercentParamsDict | null | undefined;
    "neg-percent"?: MetricPaletteNegPercentParamsDict | null | undefined;
    "pos-user"?: MetricPalettePosUserParamsDict | null | undefined;
    "neg-user"?: MetricPaletteNegUserParamsDict | null | undefined;
    "interpolate"?: boolean | null | undefined;
    "display"?: boolean | null | undefined;
    "display"?: boolean | null | undefined;
    "display"?: boolean | null | undefined;
    "name"?: string | null | undefined;
    "thresholding"?: MetricPaletteThresholdingParamsDict | null | undefined;
    "type"?: string | null | undefined;
    "type"?: string | null | undefined;
    "metric": string;
    "mode": string;
}
type MetricPaletteParamsDictTagged = Required<Pick<MetricPaletteParamsDict, '@type'>> & MetricPaletteParamsDict;


/**
 * Build parameters.
 *
 * @param pos_min__ the percentile for the least positive data
 * @param pos_max__ the percentile for the most positive data
 *
 * @returns Parameter dictionary
 */
function metric_palette_pos_percent(
    pos_min__: number,
    pos_max__: number,
): MetricPalettePosPercentParamsDictTagged {
    const params = {
        "@type": "pos-percent" as const,
        "pos-min-%": pos_min__,
        "pos-max-%": pos_max__,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function metric_palette_pos_percent_cargs(
    params: MetricPalettePosPercentParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-pos-percent",
        String((params["pos-min-%"] ?? null)),
        String((params["pos-max-%"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param neg_min__ the percentile for the least negative data
 * @param neg_max__ the percentile for the most negative data
 *
 * @returns Parameter dictionary
 */
function metric_palette_neg_percent(
    neg_min__: number,
    neg_max__: number,
): MetricPaletteNegPercentParamsDictTagged {
    const params = {
        "@type": "neg-percent" as const,
        "neg-min-%": neg_min__,
        "neg-max-%": neg_max__,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function metric_palette_neg_percent_cargs(
    params: MetricPaletteNegPercentParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-neg-percent",
        String((params["neg-min-%"] ?? null)),
        String((params["neg-max-%"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param pos_min_user the value for the least positive data
 * @param pos_max_user the value for the most positive data
 *
 * @returns Parameter dictionary
 */
function metric_palette_pos_user(
    pos_min_user: number,
    pos_max_user: number,
): MetricPalettePosUserParamsDictTagged {
    const params = {
        "@type": "pos-user" as const,
        "pos-min-user": pos_min_user,
        "pos-max-user": pos_max_user,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function metric_palette_pos_user_cargs(
    params: MetricPalettePosUserParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-pos-user",
        String((params["pos-min-user"] ?? null)),
        String((params["pos-max-user"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param neg_min_user the value for the least negative data
 * @param neg_max_user the value for the most negative data
 *
 * @returns Parameter dictionary
 */
function metric_palette_neg_user(
    neg_min_user: number,
    neg_max_user: number,
): MetricPaletteNegUserParamsDictTagged {
    const params = {
        "@type": "neg-user" as const,
        "neg-min-user": neg_min_user,
        "neg-max-user": neg_max_user,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function metric_palette_neg_user_cargs(
    params: MetricPaletteNegUserParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-neg-user",
        String((params["neg-min-user"] ?? null)),
        String((params["neg-max-user"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param type_ thresholding setting
 * @param test show values inside or outside thresholds
 * @param min lower threshold
 * @param max upper threshold
 *
 * @returns Parameter dictionary
 */
function metric_palette_thresholding(
    type_: string,
    test: string,
    min: number,
    max: number,
): MetricPaletteThresholdingParamsDictTagged {
    const params = {
        "@type": "thresholding" as const,
        "type": type_,
        "test": test,
        "min": min,
        "max": max,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function metric_palette_thresholding_cargs(
    params: MetricPaletteThresholdingParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-thresholding",
        (params["type"] ?? null),
        (params["test"] ?? null),
        String((params["min"] ?? null)),
        String((params["max"] ?? null))
    );
    return cargs;
}


/**
 * Output object returned when calling `MetricPaletteParamsDict(...)`.
 *
 * @interface
 */
interface MetricPaletteOutputs {
    /**
     * Output root folder. This is the root folder for all outputs.
     */
    root: OutputPathType;
}


/**
 * Build parameters.
 *
 * @param metric the metric to modify
 * @param mode the mapping mode
 * @param column select a single column

the column number or name
 * @param pos_percent percentage min/max for positive data coloring
 * @param neg_percent percentage min/max for negative data coloring
 * @param pos_user user min/max values for positive data coloring
 * @param neg_user user min/max values for negative data coloring
 * @param interpolate interpolate colors

boolean, whether to interpolate
 * @param display display positive data

boolean, whether to display
 * @param display_ display positive data

boolean, whether to display
 * @param display_2 display data closer to zero than the min cutoff

boolean, whether to display
 * @param name set the palette used

the name of the palette
 * @param thresholding set the thresholding
 * @param type_ specify palette inversion

the type of inversion
 * @param type_2 specify normalization mode (NOTE: this is always a file-wide setting, NOT per-map)

the normalization mode
 *
 * @returns Parameter dictionary
 */
function metric_palette_params(
    metric: string,
    mode: string,
    column: string | null = null,
    pos_percent: MetricPalettePosPercentParamsDict | null = null,
    neg_percent: MetricPaletteNegPercentParamsDict | null = null,
    pos_user: MetricPalettePosUserParamsDict | null = null,
    neg_user: MetricPaletteNegUserParamsDict | null = null,
    interpolate: boolean | null = null,
    display: boolean | null = null,
    display_: boolean | null = null,
    display_2: boolean | null = null,
    name: string | null = null,
    thresholding: MetricPaletteThresholdingParamsDict | null = null,
    type_: string | null = null,
    type_2: string | null = null,
): MetricPaletteParamsDictTagged {
    const params = {
        "@type": "workbench/metric-palette" as const,
        "metric": metric,
        "mode": mode,
    };
    if (column !== null) {
        params["column"] = column;
    }
    if (pos_percent !== null) {
        params["pos-percent"] = pos_percent;
    }
    if (neg_percent !== null) {
        params["neg-percent"] = neg_percent;
    }
    if (pos_user !== null) {
        params["pos-user"] = pos_user;
    }
    if (neg_user !== null) {
        params["neg-user"] = neg_user;
    }
    if (interpolate !== null) {
        params["interpolate"] = interpolate;
    }
    if (display !== null) {
        params["display"] = display;
    }
    if (display_ !== null) {
        params["display"] = display_;
    }
    if (display_2 !== null) {
        params["display"] = display_2;
    }
    if (name !== null) {
        params["name"] = name;
    }
    if (thresholding !== null) {
        params["thresholding"] = thresholding;
    }
    if (type_ !== null) {
        params["type"] = type_;
    }
    if (type_2 !== null) {
        params["type"] = type_2;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function metric_palette_cargs(
    params: MetricPaletteParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["column"] ?? null) !== null || (params["pos-percent"] ?? null) !== null || (params["neg-percent"] ?? null) !== null || (params["pos-user"] ?? null) !== null || (params["neg-user"] ?? null) !== null || (params["interpolate"] ?? null) !== null || (params["display"] ?? null) !== null || (params["display"] ?? null) !== null || (params["display"] ?? null) !== null || (params["name"] ?? null) !== null || (params["thresholding"] ?? null) !== null || (params["type"] ?? null) !== null || (params["type"] ?? null) !== null) {
        cargs.push(
            "wb_command",
            "-metric-palette",
            "-column",
            (((params["column"] ?? null) !== null) ? (params["column"] ?? null) : ""),
            ...(((params["pos-percent"] ?? null) !== null) ? metric_palette_pos_percent_cargs((params["pos-percent"] ?? null), execution) : []),
            ...(((params["neg-percent"] ?? null) !== null) ? metric_palette_neg_percent_cargs((params["neg-percent"] ?? null), execution) : []),
            ...(((params["pos-user"] ?? null) !== null) ? metric_palette_pos_user_cargs((params["pos-user"] ?? null), execution) : []),
            ...(((params["neg-user"] ?? null) !== null) ? metric_palette_neg_user_cargs((params["neg-user"] ?? null), execution) : []),
            "-interpolate",
            (((params["interpolate"] ?? null) !== null) ? ((params["interpolate"] ?? null) ? "true" : "false") : ""),
            "-disp-pos",
            (((params["display"] ?? null) !== null) ? ((params["display"] ?? null) ? "true" : "false") : ""),
            "-disp-neg",
            (((params["display"] ?? null) !== null) ? ((params["display"] ?? null) ? "true" : "false") : ""),
            "-disp-zero",
            (((params["display"] ?? null) !== null) ? ((params["display"] ?? null) ? "true" : "false") : ""),
            "-palette-name",
            (((params["name"] ?? null) !== null) ? (params["name"] ?? null) : ""),
            ...(((params["thresholding"] ?? null) !== null) ? metric_palette_thresholding_cargs((params["thresholding"] ?? null), execution) : []),
            "-inversion",
            (((params["type"] ?? null) !== null) ? (params["type"] ?? null) : ""),
            "-normalization",
            (((params["type"] ?? null) !== null) ? (params["type"] ?? null) : "")
        );
    }
    cargs.push((params["metric"] ?? null));
    cargs.push((params["mode"] ?? null));
    return cargs;
}


/**
 * Build outputs object containing output file paths and possibly stdout/stderr.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Outputs object.
 */
function metric_palette_outputs(
    params: MetricPaletteParamsDict,
    execution: Execution,
): MetricPaletteOutputs {
    const ret: MetricPaletteOutputs = {
        root: execution.outputFile("."),
    };
    return ret;
}


/**
 * SET THE PALETTE OF A METRIC FILE.
 *
 * The original metric file is overwritten with the modified version.  By default, all columns of the metric file are adjusted to the new settings, use the -column option to change only one column.  Mapping settings not specified in options will be taken from the first column.  The <mode> argument must be one of the following:
 *
 * MODE_AUTO_SCALE
 * MODE_AUTO_SCALE_ABSOLUTE_PERCENTAGE
 * MODE_AUTO_SCALE_PERCENTAGE
 * MODE_USER_SCALE
 *
 * The <name> argument to -palette-name must be one of the following:
 *
 * ROY-BIG-BL
 * videen_style
 * Gray_Interp_Positive
 * Gray_Interp
 * PSYCH-FIXED
 * RBGYR20
 * RBGYR20P
 * RYGBR4_positive
 * RGRBR_mirror90_pos
 * Orange-Yellow
 * POS_NEG_ZERO
 * red-yellow
 * blue-lightblue
 * FSL
 * power_surf
 * black-red
 * black-green
 * black-blue
 * black-red-positive
 * black-green-positive
 * black-blue-positive
 * blue-black-green
 * blue-black-red
 * red-black-green
 * fsl_red
 * fsl_green
 * fsl_blue
 * fsl_yellow
 * RedWhiteBlue
 * cool-warm
 * spectral
 * RY-BC-BL
 * magma
 * JET256
 * PSYCH
 * PSYCH-NO-NONE
 * ROY-BIG
 * clear_brain
 * fidl
 * raich4_clrmid
 * raich6_clrmid
 * HSB8_clrmid
 * POS_NEG
 * Special-RGB-Volume
 *
 * The <type> argument to -thresholding must be one of the following:
 *
 * THRESHOLD_TYPE_OFF
 * THRESHOLD_TYPE_NORMAL
 * THRESHOLD_TYPE_FILE
 *
 * The <test> argument to -thresholding must be one of the following:
 *
 * THRESHOLD_TEST_SHOW_OUTSIDE
 * THRESHOLD_TEST_SHOW_INSIDE
 *
 * The <type> argument to -inversion must be one of the following:
 *
 * OFF
 * POSITIVE_WITH_NEGATIVE
 * POSITIVE_NEGATIVE_SEPARATE
 *
 * The <type> argument to -normalization must be one of the following:
 *
 * NORMALIZATION_ALL_MAP_DATA
 * NORMALIZATION_SELECTED_MAP_DATA
 * .
 *
 * @param params The parameters.
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `MetricPaletteOutputs`).
 */
function metric_palette_execute(
    params: MetricPaletteParamsDict,
    runner: Runner | null = null,
): MetricPaletteOutputs {
    runner = runner || getGlobalRunner();
    const execution = runner.startExecution(METRIC_PALETTE_METADATA);
    params = execution.params(params)
    const cargs = metric_palette_cargs(params, execution)
    const ret = metric_palette_outputs(params, execution)
    execution.run(cargs, undefined);
    return ret;
}


/**
 * SET THE PALETTE OF A METRIC FILE.
 *
 * The original metric file is overwritten with the modified version.  By default, all columns of the metric file are adjusted to the new settings, use the -column option to change only one column.  Mapping settings not specified in options will be taken from the first column.  The <mode> argument must be one of the following:
 *
 * MODE_AUTO_SCALE
 * MODE_AUTO_SCALE_ABSOLUTE_PERCENTAGE
 * MODE_AUTO_SCALE_PERCENTAGE
 * MODE_USER_SCALE
 *
 * The <name> argument to -palette-name must be one of the following:
 *
 * ROY-BIG-BL
 * videen_style
 * Gray_Interp_Positive
 * Gray_Interp
 * PSYCH-FIXED
 * RBGYR20
 * RBGYR20P
 * RYGBR4_positive
 * RGRBR_mirror90_pos
 * Orange-Yellow
 * POS_NEG_ZERO
 * red-yellow
 * blue-lightblue
 * FSL
 * power_surf
 * black-red
 * black-green
 * black-blue
 * black-red-positive
 * black-green-positive
 * black-blue-positive
 * blue-black-green
 * blue-black-red
 * red-black-green
 * fsl_red
 * fsl_green
 * fsl_blue
 * fsl_yellow
 * RedWhiteBlue
 * cool-warm
 * spectral
 * RY-BC-BL
 * magma
 * JET256
 * PSYCH
 * PSYCH-NO-NONE
 * ROY-BIG
 * clear_brain
 * fidl
 * raich4_clrmid
 * raich6_clrmid
 * HSB8_clrmid
 * POS_NEG
 * Special-RGB-Volume
 *
 * The <type> argument to -thresholding must be one of the following:
 *
 * THRESHOLD_TYPE_OFF
 * THRESHOLD_TYPE_NORMAL
 * THRESHOLD_TYPE_FILE
 *
 * The <test> argument to -thresholding must be one of the following:
 *
 * THRESHOLD_TEST_SHOW_OUTSIDE
 * THRESHOLD_TEST_SHOW_INSIDE
 *
 * The <type> argument to -inversion must be one of the following:
 *
 * OFF
 * POSITIVE_WITH_NEGATIVE
 * POSITIVE_NEGATIVE_SEPARATE
 *
 * The <type> argument to -normalization must be one of the following:
 *
 * NORMALIZATION_ALL_MAP_DATA
 * NORMALIZATION_SELECTED_MAP_DATA
 * .
 *
 * @param metric the metric to modify
 * @param mode the mapping mode
 * @param column select a single column

the column number or name
 * @param pos_percent percentage min/max for positive data coloring
 * @param neg_percent percentage min/max for negative data coloring
 * @param pos_user user min/max values for positive data coloring
 * @param neg_user user min/max values for negative data coloring
 * @param interpolate interpolate colors

boolean, whether to interpolate
 * @param display display positive data

boolean, whether to display
 * @param display_ display positive data

boolean, whether to display
 * @param display_2 display data closer to zero than the min cutoff

boolean, whether to display
 * @param name set the palette used

the name of the palette
 * @param thresholding set the thresholding
 * @param type_ specify palette inversion

the type of inversion
 * @param type_2 specify normalization mode (NOTE: this is always a file-wide setting, NOT per-map)

the normalization mode
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `MetricPaletteOutputs`).
 */
function metric_palette(
    metric: string,
    mode: string,
    column: string | null = null,
    pos_percent: MetricPalettePosPercentParamsDict | null = null,
    neg_percent: MetricPaletteNegPercentParamsDict | null = null,
    pos_user: MetricPalettePosUserParamsDict | null = null,
    neg_user: MetricPaletteNegUserParamsDict | null = null,
    interpolate: boolean | null = null,
    display: boolean | null = null,
    display_: boolean | null = null,
    display_2: boolean | null = null,
    name: string | null = null,
    thresholding: MetricPaletteThresholdingParamsDict | null = null,
    type_: string | null = null,
    type_2: string | null = null,
    runner: Runner | null = null,
): MetricPaletteOutputs {
    const params = metric_palette_params(metric, mode, column, pos_percent, neg_percent, pos_user, neg_user, interpolate, display, display_, display_2, name, thresholding, type_, type_2)
    return metric_palette_execute(params, runner);
}


export {
      METRIC_PALETTE_METADATA,
      MetricPaletteNegPercentParamsDict,
      MetricPaletteNegPercentParamsDictTagged,
      MetricPaletteNegUserParamsDict,
      MetricPaletteNegUserParamsDictTagged,
      MetricPaletteOutputs,
      MetricPaletteParamsDict,
      MetricPaletteParamsDictTagged,
      MetricPalettePosPercentParamsDict,
      MetricPalettePosPercentParamsDictTagged,
      MetricPalettePosUserParamsDict,
      MetricPalettePosUserParamsDictTagged,
      MetricPaletteThresholdingParamsDict,
      MetricPaletteThresholdingParamsDictTagged,
      metric_palette,
      metric_palette_execute,
      metric_palette_neg_percent,
      metric_palette_neg_user,
      metric_palette_params,
      metric_palette_pos_percent,
      metric_palette_pos_user,
      metric_palette_thresholding,
};
