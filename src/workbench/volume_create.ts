// This file was auto generated by Styx.
// Do not edit this file directly.

import { Runner, Execution, Metadata, InputPathType, OutputPathType, getGlobalRunner } from 'styxdefs';

const VOLUME_CREATE_METADATA: Metadata = {
    id: "0ea13854b7a75326c4a105c15f5a5b8318a5d533.workbench",
    name: "volume-create",
    package: "workbench",
    container_image_tag: "nx10x/workbench:2.1.0",
};


interface VolumeCreatePlumbParamsDict {
    "@type"?: "plumb";
    "axis-order": string;
    "x-spacing": number;
    "y-spacing": number;
    "z-spacing": number;
    "x-offset": number;
    "y-offset": number;
    "z-offset": number;
}
type VolumeCreatePlumbParamsDictTagged = Required<Pick<VolumeCreatePlumbParamsDict, '@type'>> & VolumeCreatePlumbParamsDict;


interface VolumeCreateSformParamsDict {
    "@type"?: "sform";
    "xi-spacing": number;
    "xj-spacing": number;
    "xk-spacing": number;
    "x-offset": number;
    "yi-spacing": number;
    "yj-spacing": number;
    "yk-spacing": number;
    "y-offset": number;
    "zi-spacing": number;
    "zj-spacing": number;
    "zk-spacing": number;
    "z-offset": number;
}
type VolumeCreateSformParamsDictTagged = Required<Pick<VolumeCreateSformParamsDict, '@type'>> & VolumeCreateSformParamsDict;


interface VolumeCreateParamsDict {
    "@type"?: "workbench/volume-create";
    "volume-out": string;
    "plumb"?: VolumeCreatePlumbParamsDict | null | undefined;
    "sform"?: VolumeCreateSformParamsDict | null | undefined;
    "i-dim": number;
    "j-dim": number;
    "k-dim": number;
}
type VolumeCreateParamsDictTagged = Required<Pick<VolumeCreateParamsDict, '@type'>> & VolumeCreateParamsDict;


/**
 * Build parameters.
 *
 * @param axis_order a string like 'XYZ' that specifies which index is along which spatial dimension
 * @param x_spacing change in x-coordinate from incrementing the relevant index
 * @param y_spacing change in y-coordinate from incrementing the relevant index
 * @param z_spacing change in z-coordinate from incrementing the relevant index
 * @param x_offset the x-coordinate of the center of the first voxel
 * @param y_offset the y-coordinate of the center of the first voxel
 * @param z_offset the z-coordinate of the center of the first voxel
 *
 * @returns Parameter dictionary
 */
function volume_create_plumb(
    axis_order: string,
    x_spacing: number,
    y_spacing: number,
    z_spacing: number,
    x_offset: number,
    y_offset: number,
    z_offset: number,
): VolumeCreatePlumbParamsDictTagged {
    const params = {
        "@type": "plumb" as const,
        "axis-order": axis_order,
        "x-spacing": x_spacing,
        "y-spacing": y_spacing,
        "z-spacing": z_spacing,
        "x-offset": x_offset,
        "y-offset": y_offset,
        "z-offset": z_offset,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function volume_create_plumb_cargs(
    params: VolumeCreatePlumbParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-plumb",
        (params["axis-order"] ?? null),
        String((params["x-spacing"] ?? null)),
        String((params["y-spacing"] ?? null)),
        String((params["z-spacing"] ?? null)),
        String((params["x-offset"] ?? null)),
        String((params["y-offset"] ?? null)),
        String((params["z-offset"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param xi_spacing increase in x coordinate from incrementing the i index
 * @param xj_spacing increase in x coordinate from incrementing the j index
 * @param xk_spacing increase in x coordinate from incrementing the k index
 * @param x_offset x coordinate of first voxel
 * @param yi_spacing increase in y coordinate from incrementing the i index
 * @param yj_spacing increase in y coordinate from incrementing the j index
 * @param yk_spacing increase in y coordinate from incrementing the k index
 * @param y_offset y coordinate of first voxel
 * @param zi_spacing increase in z coordinate from incrementing the i index
 * @param zj_spacing increase in z coordinate from incrementing the j index
 * @param zk_spacing increase in z coordinate from incrementing the k index
 * @param z_offset z coordinate of first voxel
 *
 * @returns Parameter dictionary
 */
function volume_create_sform(
    xi_spacing: number,
    xj_spacing: number,
    xk_spacing: number,
    x_offset: number,
    yi_spacing: number,
    yj_spacing: number,
    yk_spacing: number,
    y_offset: number,
    zi_spacing: number,
    zj_spacing: number,
    zk_spacing: number,
    z_offset: number,
): VolumeCreateSformParamsDictTagged {
    const params = {
        "@type": "sform" as const,
        "xi-spacing": xi_spacing,
        "xj-spacing": xj_spacing,
        "xk-spacing": xk_spacing,
        "x-offset": x_offset,
        "yi-spacing": yi_spacing,
        "yj-spacing": yj_spacing,
        "yk-spacing": yk_spacing,
        "y-offset": y_offset,
        "zi-spacing": zi_spacing,
        "zj-spacing": zj_spacing,
        "zk-spacing": zk_spacing,
        "z-offset": z_offset,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function volume_create_sform_cargs(
    params: VolumeCreateSformParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-sform",
        String((params["xi-spacing"] ?? null)),
        String((params["xj-spacing"] ?? null)),
        String((params["xk-spacing"] ?? null)),
        String((params["x-offset"] ?? null)),
        String((params["yi-spacing"] ?? null)),
        String((params["yj-spacing"] ?? null)),
        String((params["yk-spacing"] ?? null)),
        String((params["y-offset"] ?? null)),
        String((params["zi-spacing"] ?? null)),
        String((params["zj-spacing"] ?? null)),
        String((params["zk-spacing"] ?? null)),
        String((params["z-offset"] ?? null))
    );
    return cargs;
}


/**
 * Output object returned when calling `VolumeCreateParamsDict(...)`.
 *
 * @interface
 */
interface VolumeCreateOutputs {
    /**
     * Output root folder. This is the root folder for all outputs.
     */
    root: OutputPathType;
    /**
     * the output volume
     */
    volume_out: OutputPathType;
}


/**
 * Build parameters.
 *
 * @param volume_out the output volume
 * @param i_dim length of first dimension
 * @param j_dim length of second dimension
 * @param k_dim length of third dimension
 * @param plumb set via axis order and spacing/offset
 * @param sform set via a nifti sform
 *
 * @returns Parameter dictionary
 */
function volume_create_params(
    volume_out: string,
    i_dim: number,
    j_dim: number,
    k_dim: number,
    plumb: VolumeCreatePlumbParamsDict | null = null,
    sform: VolumeCreateSformParamsDict | null = null,
): VolumeCreateParamsDictTagged {
    const params = {
        "@type": "workbench/volume-create" as const,
        "volume-out": volume_out,
        "i-dim": i_dim,
        "j-dim": j_dim,
        "k-dim": k_dim,
    };
    if (plumb !== null) {
        params["plumb"] = plumb;
    }
    if (sform !== null) {
        params["sform"] = sform;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function volume_create_cargs(
    params: VolumeCreateParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "wb_command",
        "-volume-create"
    );
    cargs.push(
        (params["volume-out"] ?? null),
        ...(((params["plumb"] ?? null) !== null) ? volume_create_plumb_cargs((params["plumb"] ?? null), execution) : []),
        ...(((params["sform"] ?? null) !== null) ? volume_create_sform_cargs((params["sform"] ?? null), execution) : [])
    );
    cargs.push(String((params["i-dim"] ?? null)));
    cargs.push(String((params["j-dim"] ?? null)));
    cargs.push(String((params["k-dim"] ?? null)));
    return cargs;
}


/**
 * Build outputs object containing output file paths and possibly stdout/stderr.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Outputs object.
 */
function volume_create_outputs(
    params: VolumeCreateParamsDict,
    execution: Execution,
): VolumeCreateOutputs {
    const ret: VolumeCreateOutputs = {
        root: execution.outputFile("."),
        volume_out: execution.outputFile([(params["volume-out"] ?? null)].join('')),
    };
    return ret;
}


/**
 * CREATE A BLANK VOLUME FILE.
 *
 * Creates a volume file full of zeros.  Exactly one of -plumb or -sform must be specified.
 *
 * @param params The parameters.
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `VolumeCreateOutputs`).
 */
function volume_create_execute(
    params: VolumeCreateParamsDict,
    runner: Runner | null = null,
): VolumeCreateOutputs {
    runner = runner || getGlobalRunner();
    const execution = runner.startExecution(VOLUME_CREATE_METADATA);
    params = execution.params(params)
    const cargs = volume_create_cargs(params, execution)
    const ret = volume_create_outputs(params, execution)
    execution.run(cargs, undefined);
    return ret;
}


/**
 * CREATE A BLANK VOLUME FILE.
 *
 * Creates a volume file full of zeros.  Exactly one of -plumb or -sform must be specified.
 *
 * @param volume_out the output volume
 * @param i_dim length of first dimension
 * @param j_dim length of second dimension
 * @param k_dim length of third dimension
 * @param plumb set via axis order and spacing/offset
 * @param sform set via a nifti sform
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `VolumeCreateOutputs`).
 */
function volume_create(
    volume_out: string,
    i_dim: number,
    j_dim: number,
    k_dim: number,
    plumb: VolumeCreatePlumbParamsDict | null = null,
    sform: VolumeCreateSformParamsDict | null = null,
    runner: Runner | null = null,
): VolumeCreateOutputs {
    const params = volume_create_params(volume_out, i_dim, j_dim, k_dim, plumb, sform)
    return volume_create_execute(params, runner);
}


export {
      VOLUME_CREATE_METADATA,
      VolumeCreateOutputs,
      VolumeCreateParamsDict,
      VolumeCreateParamsDictTagged,
      VolumeCreatePlumbParamsDict,
      VolumeCreatePlumbParamsDictTagged,
      VolumeCreateSformParamsDict,
      VolumeCreateSformParamsDictTagged,
      volume_create,
      volume_create_execute,
      volume_create_params,
      volume_create_plumb,
      volume_create_sform,
};
