// This file was auto generated by Styx.
// Do not edit this file directly.

import { Runner, Execution, Metadata, InputPathType, OutputPathType, getGlobalRunner } from 'styxdefs';

const CIFTI_CHANGE_MAPPING_METADATA: Metadata = {
    id: "98052ea0462fd3e196a00f6d6e0bcbac9ddc17e4.workbench",
    name: "cifti-change-mapping",
    package: "workbench",
};


interface CiftiChangeMappingSeriesParameters {
    "@type"?: "series";
    "step": number;
    "start": number;
    "unit"?: string | null | undefined;
}
type CiftiChangeMappingSeriesParametersTagged = Required<Pick<CiftiChangeMappingSeriesParameters, '@type'>> & CiftiChangeMappingSeriesParameters;


interface CiftiChangeMappingScalarParameters {
    "@type"?: "scalar";
    "file"?: string | null | undefined;
}
type CiftiChangeMappingScalarParametersTagged = Required<Pick<CiftiChangeMappingScalarParameters, '@type'>> & CiftiChangeMappingScalarParameters;


interface CiftiChangeMappingFromCiftiParameters {
    "@type"?: "from-cifti";
    "template-cifti": InputPathType;
    "direction": string;
}
type CiftiChangeMappingFromCiftiParametersTagged = Required<Pick<CiftiChangeMappingFromCiftiParameters, '@type'>> & CiftiChangeMappingFromCiftiParameters;


interface CiftiChangeMappingParameters {
    "@type"?: "workbench/cifti-change-mapping";
    "cifti-out": string;
    "series"?: CiftiChangeMappingSeriesParameters | null | undefined;
    "scalar"?: CiftiChangeMappingScalarParameters | null | undefined;
    "from-cifti"?: CiftiChangeMappingFromCiftiParameters | null | undefined;
    "data-cifti": InputPathType;
    "direction": string;
}
type CiftiChangeMappingParametersTagged = Required<Pick<CiftiChangeMappingParameters, '@type'>> & CiftiChangeMappingParameters;


/**
 * Build parameters.
 *
 * @param step increment between series points
 * @param start start value of the series
 * @param unit select unit for series (default SECOND)

unit identifier
 *
 * @returns Parameter dictionary
 */
function cifti_change_mapping_series_params(
    step: number,
    start: number,
    unit: string | null,
): CiftiChangeMappingSeriesParametersTagged {
    const params = {
        "@type": "series" as const,
        "step": step,
        "start": start,
    };
    if (unit !== null) {
        params["unit"] = unit;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_change_mapping_series_cargs(
    params: CiftiChangeMappingSeriesParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["unit"] ?? null) !== null) {
        cargs.push(
            "-series",
            String((params["step"] ?? null)),
            String((params["start"] ?? null)),
            "-unit",
            (params["unit"] ?? null)
        );
    }
    return cargs;
}


/**
 * Build parameters.
 *
 * @param file specify names for the maps

text file containing map names, one per line
 *
 * @returns Parameter dictionary
 */
function cifti_change_mapping_scalar_params(
    file: string | null,
): CiftiChangeMappingScalarParametersTagged {
    const params = {
        "@type": "scalar" as const,
    };
    if (file !== null) {
        params["file"] = file;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_change_mapping_scalar_cargs(
    params: CiftiChangeMappingScalarParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["file"] ?? null) !== null) {
        cargs.push(
            "-scalar",
            "-name-file",
            (params["file"] ?? null)
        );
    }
    return cargs;
}


/**
 * Build parameters.
 *
 * @param template_cifti a cifti file containing the desired mapping
 * @param direction which direction to copy the mapping from
 *
 * @returns Parameter dictionary
 */
function cifti_change_mapping_from_cifti_params(
    template_cifti: InputPathType,
    direction: string,
): CiftiChangeMappingFromCiftiParametersTagged {
    const params = {
        "@type": "from-cifti" as const,
        "template-cifti": template_cifti,
        "direction": direction,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_change_mapping_from_cifti_cargs(
    params: CiftiChangeMappingFromCiftiParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-from-cifti",
        execution.inputFile((params["template-cifti"] ?? null)),
        (params["direction"] ?? null)
    );
    return cargs;
}


/**
 * Output object returned when calling `CiftiChangeMappingParameters(...)`.
 *
 * @interface
 */
interface CiftiChangeMappingOutputs {
    /**
     * Output root folder. This is the root folder for all outputs.
     */
    root: OutputPathType;
    /**
     * the output cifti file
     */
    cifti_out: OutputPathType;
}


/**
 * Build parameters.
 *
 * @param cifti_out the output cifti file
 * @param data_cifti the cifti file to use the data from
 * @param direction which direction on <data-cifti> to replace the mapping
 * @param series set the mapping to series
 * @param scalar set the mapping to scalar
 * @param from_cifti copy mapping from another cifti file
 *
 * @returns Parameter dictionary
 */
function cifti_change_mapping_params(
    cifti_out: string,
    data_cifti: InputPathType,
    direction: string,
    series: CiftiChangeMappingSeriesParameters | null = null,
    scalar: CiftiChangeMappingScalarParameters | null = null,
    from_cifti: CiftiChangeMappingFromCiftiParameters | null = null,
): CiftiChangeMappingParametersTagged {
    const params = {
        "@type": "workbench/cifti-change-mapping" as const,
        "cifti-out": cifti_out,
        "data-cifti": data_cifti,
        "direction": direction,
    };
    if (series !== null) {
        params["series"] = series;
    }
    if (scalar !== null) {
        params["scalar"] = scalar;
    }
    if (from_cifti !== null) {
        params["from-cifti"] = from_cifti;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function cifti_change_mapping_cargs(
    params: CiftiChangeMappingParameters,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["series"] ?? null) !== null || (params["scalar"] ?? null) !== null || (params["from-cifti"] ?? null) !== null) {
        cargs.push(
            "wb_command",
            "-cifti-change-mapping",
            (params["cifti-out"] ?? null),
            ...(((params["series"] ?? null) !== null) ? cifti_change_mapping_series_cargs((params["series"] ?? null), execution) : []),
            ...(((params["scalar"] ?? null) !== null) ? cifti_change_mapping_scalar_cargs((params["scalar"] ?? null), execution) : []),
            ...(((params["from-cifti"] ?? null) !== null) ? cifti_change_mapping_from_cifti_cargs((params["from-cifti"] ?? null), execution) : [])
        );
    }
    cargs.push(execution.inputFile((params["data-cifti"] ?? null)));
    cargs.push((params["direction"] ?? null));
    return cargs;
}


/**
 * Build outputs object containing output file paths and possibly stdout/stderr.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Outputs object.
 */
function cifti_change_mapping_outputs(
    params: CiftiChangeMappingParameters,
    execution: Execution,
): CiftiChangeMappingOutputs {
    const ret: CiftiChangeMappingOutputs = {
        root: execution.outputFile("."),
        cifti_out: execution.outputFile([(params["cifti-out"] ?? null)].join('')),
    };
    return ret;
}


/**
 * CONVERT TO SCALAR, COPY MAPPING, ETC.
 *
 * Take an existing cifti file and change one of the mappings.  Exactly one of -series, -scalar, or -from-cifti must be specified.  The direction can be either an integer starting from 1, or the strings 'ROW' or 'COLUMN'.
 *
 * The argument to -unit must be one of the following:
 *
 * SECOND
 * HERTZ
 * METER
 * RADIAN.
 *
 * @param params The parameters.
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `CiftiChangeMappingOutputs`).
 */
function cifti_change_mapping_execute(
    params: CiftiChangeMappingParameters,
    runner: Runner | null = null,
): CiftiChangeMappingOutputs {
    runner = runner || getGlobalRunner();
    const execution = runner.startExecution(CIFTI_CHANGE_MAPPING_METADATA);
    params = execution.params(params)
    const cargs = cifti_change_mapping_cargs(params, execution)
    const ret = cifti_change_mapping_outputs(params, execution)
    execution.run(cargs, undefined);
    return ret;
}


/**
 * CONVERT TO SCALAR, COPY MAPPING, ETC.
 *
 * Take an existing cifti file and change one of the mappings.  Exactly one of -series, -scalar, or -from-cifti must be specified.  The direction can be either an integer starting from 1, or the strings 'ROW' or 'COLUMN'.
 *
 * The argument to -unit must be one of the following:
 *
 * SECOND
 * HERTZ
 * METER
 * RADIAN.
 *
 * @param cifti_out the output cifti file
 * @param data_cifti the cifti file to use the data from
 * @param direction which direction on <data-cifti> to replace the mapping
 * @param series set the mapping to series
 * @param scalar set the mapping to scalar
 * @param from_cifti copy mapping from another cifti file
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `CiftiChangeMappingOutputs`).
 */
function cifti_change_mapping(
    cifti_out: string,
    data_cifti: InputPathType,
    direction: string,
    series: CiftiChangeMappingSeriesParameters | null = null,
    scalar: CiftiChangeMappingScalarParameters | null = null,
    from_cifti: CiftiChangeMappingFromCiftiParameters | null = null,
    runner: Runner | null = null,
): CiftiChangeMappingOutputs {
    const params = cifti_change_mapping_params(cifti_out, data_cifti, direction, series, scalar, from_cifti)
    return cifti_change_mapping_execute(params, runner);
}


export {
      CIFTI_CHANGE_MAPPING_METADATA,
      CiftiChangeMappingOutputs,
      cifti_change_mapping,
      cifti_change_mapping_execute,
      cifti_change_mapping_from_cifti_params,
      cifti_change_mapping_params,
      cifti_change_mapping_scalar_params,
      cifti_change_mapping_series_params,
};
