// This file was auto generated by Styx.
// Do not edit this file directly.

import { Runner, Execution, Metadata, InputPathType, OutputPathType, getGlobalRunner } from 'styxdefs';

const PROBTRACKX_DOT_CONVERT_METADATA: Metadata = {
    id: "f64045e106a3a193429d92ea0f41790a0068c800.workbench",
    name: "probtrackx-dot-convert",
    package: "workbench",
};


interface ProbtrackxDotConvertRowVoxelsParamsDict {
    "@type"?: "row-voxels";
    "voxel-list-file": string;
    "label-vol": InputPathType;
}
type ProbtrackxDotConvertRowVoxelsParamsDictTagged = Required<Pick<ProbtrackxDotConvertRowVoxelsParamsDict, '@type'>> & ProbtrackxDotConvertRowVoxelsParamsDict;


interface ProbtrackxDotConvertRowCiftiParamsDict {
    "@type"?: "row-cifti";
    "cifti": InputPathType;
    "direction": string;
}
type ProbtrackxDotConvertRowCiftiParamsDictTagged = Required<Pick<ProbtrackxDotConvertRowCiftiParamsDict, '@type'>> & ProbtrackxDotConvertRowCiftiParamsDict;


interface ProbtrackxDotConvertColVoxelsParamsDict {
    "@type"?: "col-voxels";
    "voxel-list-file": string;
    "label-vol": InputPathType;
}
type ProbtrackxDotConvertColVoxelsParamsDictTagged = Required<Pick<ProbtrackxDotConvertColVoxelsParamsDict, '@type'>> & ProbtrackxDotConvertColVoxelsParamsDict;


interface ProbtrackxDotConvertColCiftiParamsDict {
    "@type"?: "col-cifti";
    "cifti": InputPathType;
    "direction": string;
}
type ProbtrackxDotConvertColCiftiParamsDictTagged = Required<Pick<ProbtrackxDotConvertColCiftiParamsDict, '@type'>> & ProbtrackxDotConvertColCiftiParamsDict;


interface ProbtrackxDotConvertParamsDict {
    "@type"?: "workbench/probtrackx-dot-convert";
    "cifti-out": string;
    "row-voxels"?: ProbtrackxDotConvertRowVoxelsParamsDict | null | undefined;
    "roi-metric"?: InputPathType | null | undefined;
    "row-cifti"?: ProbtrackxDotConvertRowCiftiParamsDict | null | undefined;
    "col-voxels"?: ProbtrackxDotConvertColVoxelsParamsDict | null | undefined;
    "roi-metric"?: InputPathType | null | undefined;
    "col-cifti"?: ProbtrackxDotConvertColCiftiParamsDict | null | undefined;
    "transpose": boolean;
    "make-symmetric": boolean;
    "dot-file": string;
}
type ProbtrackxDotConvertParamsDictTagged = Required<Pick<ProbtrackxDotConvertParamsDict, '@type'>> & ProbtrackxDotConvertParamsDict;


/**
 * Build parameters.
 *
 * @param voxel_list_file a text file containing IJK indices for the voxels used
 * @param label_vol a label volume with the dimensions and sform used, with structure labels
 *
 * @returns Parameter dictionary
 */
function probtrackx_dot_convert_row_voxels(
    voxel_list_file: string,
    label_vol: InputPathType,
): ProbtrackxDotConvertRowVoxelsParamsDictTagged {
    const params = {
        "@type": "row-voxels" as const,
        "voxel-list-file": voxel_list_file,
        "label-vol": label_vol,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function probtrackx_dot_convert_row_voxels_cargs(
    params: ProbtrackxDotConvertRowVoxelsParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-row-voxels",
        (params["voxel-list-file"] ?? null),
        execution.inputFile((params["label-vol"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param cifti the cifti file to take the mapping from
 * @param direction which dimension to take the mapping along, ROW or COLUMN
 *
 * @returns Parameter dictionary
 */
function probtrackx_dot_convert_row_cifti(
    cifti: InputPathType,
    direction: string,
): ProbtrackxDotConvertRowCiftiParamsDictTagged {
    const params = {
        "@type": "row-cifti" as const,
        "cifti": cifti,
        "direction": direction,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function probtrackx_dot_convert_row_cifti_cargs(
    params: ProbtrackxDotConvertRowCiftiParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-row-cifti",
        execution.inputFile((params["cifti"] ?? null)),
        (params["direction"] ?? null)
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param voxel_list_file a text file containing IJK indices for the voxels used
 * @param label_vol a label volume with the dimensions and sform used, with structure labels
 *
 * @returns Parameter dictionary
 */
function probtrackx_dot_convert_col_voxels(
    voxel_list_file: string,
    label_vol: InputPathType,
): ProbtrackxDotConvertColVoxelsParamsDictTagged {
    const params = {
        "@type": "col-voxels" as const,
        "voxel-list-file": voxel_list_file,
        "label-vol": label_vol,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function probtrackx_dot_convert_col_voxels_cargs(
    params: ProbtrackxDotConvertColVoxelsParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-col-voxels",
        (params["voxel-list-file"] ?? null),
        execution.inputFile((params["label-vol"] ?? null))
    );
    return cargs;
}


/**
 * Build parameters.
 *
 * @param cifti the cifti file to take the mapping from
 * @param direction which dimension to take the mapping along, ROW or COLUMN
 *
 * @returns Parameter dictionary
 */
function probtrackx_dot_convert_col_cifti(
    cifti: InputPathType,
    direction: string,
): ProbtrackxDotConvertColCiftiParamsDictTagged {
    const params = {
        "@type": "col-cifti" as const,
        "cifti": cifti,
        "direction": direction,
    };
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function probtrackx_dot_convert_col_cifti_cargs(
    params: ProbtrackxDotConvertColCiftiParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    cargs.push(
        "-col-cifti",
        execution.inputFile((params["cifti"] ?? null)),
        (params["direction"] ?? null)
    );
    return cargs;
}


/**
 * Output object returned when calling `ProbtrackxDotConvertParamsDict(...)`.
 *
 * @interface
 */
interface ProbtrackxDotConvertOutputs {
    /**
     * Output root folder. This is the root folder for all outputs.
     */
    root: OutputPathType;
    /**
     * output cifti file
     */
    cifti_out: OutputPathType;
}


/**
 * Build parameters.
 *
 * @param cifti_out output cifti file
 * @param roi_metric the output mapping along a row will be surface vertices

a metric file with positive values on all vertices used
 * @param roi_metric_ the output mapping along a column will be surface vertices

a metric file with positive values on all vertices used
 * @param dot_file input .dot file
 * @param row_voxels the output mapping along a row will be voxels
 * @param row_cifti take the mapping along a row from a cifti file
 * @param col_voxels the output mapping along a column will be voxels
 * @param col_cifti take the mapping along a column from a cifti file
 * @param transpose transpose the input matrix
 * @param make_symmetric transform half-square input into full matrix output
 *
 * @returns Parameter dictionary
 */
function probtrackx_dot_convert_params(
    cifti_out: string,
    roi_metric: InputPathType | null,
    roi_metric_: InputPathType | null,
    dot_file: string,
    row_voxels: ProbtrackxDotConvertRowVoxelsParamsDict | null = null,
    row_cifti: ProbtrackxDotConvertRowCiftiParamsDict | null = null,
    col_voxels: ProbtrackxDotConvertColVoxelsParamsDict | null = null,
    col_cifti: ProbtrackxDotConvertColCiftiParamsDict | null = null,
    transpose: boolean = false,
    make_symmetric: boolean = false,
): ProbtrackxDotConvertParamsDictTagged {
    const params = {
        "@type": "workbench/probtrackx-dot-convert" as const,
        "cifti-out": cifti_out,
        "transpose": transpose,
        "make-symmetric": make_symmetric,
        "dot-file": dot_file,
    };
    if (row_voxels !== null) {
        params["row-voxels"] = row_voxels;
    }
    if (roi_metric !== null) {
        params["roi-metric"] = roi_metric;
    }
    if (row_cifti !== null) {
        params["row-cifti"] = row_cifti;
    }
    if (col_voxels !== null) {
        params["col-voxels"] = col_voxels;
    }
    if (roi_metric_ !== null) {
        params["roi-metric"] = roi_metric_;
    }
    if (col_cifti !== null) {
        params["col-cifti"] = col_cifti;
    }
    return params;
}


/**
 * Build command-line arguments from parameters.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Command-line arguments.
 */
function probtrackx_dot_convert_cargs(
    params: ProbtrackxDotConvertParamsDict,
    execution: Execution,
): string[] {
    const cargs: string[] = [];
    if ((params["row-voxels"] ?? null) !== null || (params["roi-metric"] ?? null) !== null || (params["row-cifti"] ?? null) !== null || (params["col-voxels"] ?? null) !== null || (params["roi-metric"] ?? null) !== null || (params["col-cifti"] ?? null) !== null || (params["transpose"] ?? false) || (params["make-symmetric"] ?? false)) {
        cargs.push(
            "wb_command",
            "-probtrackx-dot-convert",
            (params["cifti-out"] ?? null),
            ...(((params["row-voxels"] ?? null) !== null) ? probtrackx_dot_convert_row_voxels_cargs((params["row-voxels"] ?? null), execution) : []),
            "-row-surface",
            (((params["roi-metric"] ?? null) !== null) ? execution.inputFile((params["roi-metric"] ?? null)) : ""),
            ...(((params["row-cifti"] ?? null) !== null) ? probtrackx_dot_convert_row_cifti_cargs((params["row-cifti"] ?? null), execution) : []),
            ...(((params["col-voxels"] ?? null) !== null) ? probtrackx_dot_convert_col_voxels_cargs((params["col-voxels"] ?? null), execution) : []),
            "-col-surface",
            (((params["roi-metric"] ?? null) !== null) ? execution.inputFile((params["roi-metric"] ?? null)) : ""),
            ...(((params["col-cifti"] ?? null) !== null) ? probtrackx_dot_convert_col_cifti_cargs((params["col-cifti"] ?? null), execution) : []),
            (((params["transpose"] ?? false)) ? "-transpose" : ""),
            (((params["make-symmetric"] ?? false)) ? "-make-symmetric" : "")
        );
    }
    cargs.push((params["dot-file"] ?? null));
    return cargs;
}


/**
 * Build outputs object containing output file paths and possibly stdout/stderr.
 *
 * @param params The parameters.
 * @param execution The execution object for resolving input paths.
 *
 * @returns Outputs object.
 */
function probtrackx_dot_convert_outputs(
    params: ProbtrackxDotConvertParamsDict,
    execution: Execution,
): ProbtrackxDotConvertOutputs {
    const ret: ProbtrackxDotConvertOutputs = {
        root: execution.outputFile("."),
        cifti_out: execution.outputFile([(params["cifti-out"] ?? null)].join('')),
    };
    return ret;
}


/**
 * CONVERT A .DOT FILE FROM PROBTRACKX TO CIFTI.
 *
 * NOTE: exactly one -row option and one -col option must be used.
 *
 * If the input file does not have its indexes sorted in the correct ordering, this command may take longer than expected.  Specifying -transpose will transpose the input matrix before trying to put its values into the cifti file, which is currently needed for at least matrix2 in order to display it as intended.  How the cifti file is displayed is based on which -row option is specified: if -row-voxels is specified, then it will display data on volume slices.  The label names in the label volume(s) must have the following names, other names are ignored:
 *
 *
 * CORTEX_LEFT
 * CORTEX_RIGHT
 * CEREBELLUM
 * ACCUMBENS_LEFT
 * ACCUMBENS_RIGHT
 * ALL_GREY_MATTER
 * ALL_WHITE_MATTER
 * AMYGDALA_LEFT
 * AMYGDALA_RIGHT
 * BRAIN_STEM
 * CAUDATE_LEFT
 * CAUDATE_RIGHT
 * CEREBELLAR_WHITE_MATTER_LEFT
 * CEREBELLAR_WHITE_MATTER_RIGHT
 * CEREBELLUM_LEFT
 * CEREBELLUM_RIGHT
 * CEREBRAL_WHITE_MATTER_LEFT
 * CEREBRAL_WHITE_MATTER_RIGHT
 * CORTEX
 * DIENCEPHALON_VENTRAL_LEFT
 * DIENCEPHALON_VENTRAL_RIGHT
 * HIPPOCAMPUS_LEFT
 * HIPPOCAMPUS_RIGHT
 * HIPPOCAMPUS_DENTATE_LEFT
 * HIPPOCAMPUS_DENTATE_RIGHT
 * INVALID
 * OTHER
 * OTHER_GREY_MATTER
 * OTHER_WHITE_MATTER
 * PALLIDUM_LEFT
 * PALLIDUM_RIGHT
 * PUTAMEN_LEFT
 * PUTAMEN_RIGHT
 * THALAMUS_LEFT
 * THALAMUS_RIGHT.
 *
 * @param params The parameters.
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `ProbtrackxDotConvertOutputs`).
 */
function probtrackx_dot_convert_execute(
    params: ProbtrackxDotConvertParamsDict,
    runner: Runner | null = null,
): ProbtrackxDotConvertOutputs {
    runner = runner || getGlobalRunner();
    const execution = runner.startExecution(PROBTRACKX_DOT_CONVERT_METADATA);
    params = execution.params(params)
    const cargs = probtrackx_dot_convert_cargs(params, execution)
    const ret = probtrackx_dot_convert_outputs(params, execution)
    execution.run(cargs, undefined);
    return ret;
}


/**
 * CONVERT A .DOT FILE FROM PROBTRACKX TO CIFTI.
 *
 * NOTE: exactly one -row option and one -col option must be used.
 *
 * If the input file does not have its indexes sorted in the correct ordering, this command may take longer than expected.  Specifying -transpose will transpose the input matrix before trying to put its values into the cifti file, which is currently needed for at least matrix2 in order to display it as intended.  How the cifti file is displayed is based on which -row option is specified: if -row-voxels is specified, then it will display data on volume slices.  The label names in the label volume(s) must have the following names, other names are ignored:
 *
 *
 * CORTEX_LEFT
 * CORTEX_RIGHT
 * CEREBELLUM
 * ACCUMBENS_LEFT
 * ACCUMBENS_RIGHT
 * ALL_GREY_MATTER
 * ALL_WHITE_MATTER
 * AMYGDALA_LEFT
 * AMYGDALA_RIGHT
 * BRAIN_STEM
 * CAUDATE_LEFT
 * CAUDATE_RIGHT
 * CEREBELLAR_WHITE_MATTER_LEFT
 * CEREBELLAR_WHITE_MATTER_RIGHT
 * CEREBELLUM_LEFT
 * CEREBELLUM_RIGHT
 * CEREBRAL_WHITE_MATTER_LEFT
 * CEREBRAL_WHITE_MATTER_RIGHT
 * CORTEX
 * DIENCEPHALON_VENTRAL_LEFT
 * DIENCEPHALON_VENTRAL_RIGHT
 * HIPPOCAMPUS_LEFT
 * HIPPOCAMPUS_RIGHT
 * HIPPOCAMPUS_DENTATE_LEFT
 * HIPPOCAMPUS_DENTATE_RIGHT
 * INVALID
 * OTHER
 * OTHER_GREY_MATTER
 * OTHER_WHITE_MATTER
 * PALLIDUM_LEFT
 * PALLIDUM_RIGHT
 * PUTAMEN_LEFT
 * PUTAMEN_RIGHT
 * THALAMUS_LEFT
 * THALAMUS_RIGHT.
 *
 * @param cifti_out output cifti file
 * @param roi_metric the output mapping along a row will be surface vertices

a metric file with positive values on all vertices used
 * @param roi_metric_ the output mapping along a column will be surface vertices

a metric file with positive values on all vertices used
 * @param dot_file input .dot file
 * @param row_voxels the output mapping along a row will be voxels
 * @param row_cifti take the mapping along a row from a cifti file
 * @param col_voxels the output mapping along a column will be voxels
 * @param col_cifti take the mapping along a column from a cifti file
 * @param transpose transpose the input matrix
 * @param make_symmetric transform half-square input into full matrix output
 * @param runner Command runner
 *
 * @returns NamedTuple of outputs (described in `ProbtrackxDotConvertOutputs`).
 */
function probtrackx_dot_convert(
    cifti_out: string,
    roi_metric: InputPathType | null,
    roi_metric_: InputPathType | null,
    dot_file: string,
    row_voxels: ProbtrackxDotConvertRowVoxelsParamsDict | null = null,
    row_cifti: ProbtrackxDotConvertRowCiftiParamsDict | null = null,
    col_voxels: ProbtrackxDotConvertColVoxelsParamsDict | null = null,
    col_cifti: ProbtrackxDotConvertColCiftiParamsDict | null = null,
    transpose: boolean = false,
    make_symmetric: boolean = false,
    runner: Runner | null = null,
): ProbtrackxDotConvertOutputs {
    const params = probtrackx_dot_convert_params(cifti_out, roi_metric, roi_metric_, dot_file, row_voxels, row_cifti, col_voxels, col_cifti, transpose, make_symmetric)
    return probtrackx_dot_convert_execute(params, runner);
}


export {
      PROBTRACKX_DOT_CONVERT_METADATA,
      ProbtrackxDotConvertColCiftiParamsDict,
      ProbtrackxDotConvertColCiftiParamsDictTagged,
      ProbtrackxDotConvertColVoxelsParamsDict,
      ProbtrackxDotConvertColVoxelsParamsDictTagged,
      ProbtrackxDotConvertOutputs,
      ProbtrackxDotConvertParamsDict,
      ProbtrackxDotConvertParamsDictTagged,
      ProbtrackxDotConvertRowCiftiParamsDict,
      ProbtrackxDotConvertRowCiftiParamsDictTagged,
      ProbtrackxDotConvertRowVoxelsParamsDict,
      ProbtrackxDotConvertRowVoxelsParamsDictTagged,
      probtrackx_dot_convert,
      probtrackx_dot_convert_col_cifti,
      probtrackx_dot_convert_col_voxels,
      probtrackx_dot_convert_execute,
      probtrackx_dot_convert_params,
      probtrackx_dot_convert_row_cifti,
      probtrackx_dot_convert_row_voxels,
};
